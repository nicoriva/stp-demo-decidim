{"ast":null,"code":"/* eslint-disable no-invalid-this */\n\nimport svg4everybody from \"svg4everybody\";\nimport formDatePicker from \"src/decidim/form_datepicker\";\nimport fixDropdownMenus from \"src/decidim/dropdowns_menus\";\nimport createQuillEditor from \"src/decidim/editor\";\nimport Configuration from \"src/decidim/configuration\";\nimport ExternalLink from \"src/decidim/external_link\";\nimport updateExternalDomainLinks from \"src/decidim/external_domain_warning\";\nimport InputCharacterCounter from \"src/decidim/input_character_counter\";\nimport FormValidator from \"src/decidim/form_validator\";\nimport CommentsComponent from \"src/decidim/comments/comments.component\";\nimport DataPicker from \"src/decidim/data_picker\";\nimport FormFilterComponent from \"src/decidim/form_filter\";\nimport addInputEmoji from \"src/decidim/input_emoji\";\nimport dialogMode from \"src/decidim/dialog_mode\";\nimport FocusGuard from \"src/decidim/focus_guard\";\nimport backToListLink from \"src/decidim/back_to_list\";\nwindow.Decidim = window.Decidim || {};\nwindow.Decidim.config = new Configuration();\nwindow.Decidim.ExternalLink = ExternalLink;\nwindow.Decidim.InputCharacterCounter = InputCharacterCounter;\nwindow.Decidim.FormValidator = FormValidator;\nwindow.Decidim.DataPicker = DataPicker;\nwindow.Decidim.CommentsComponent = CommentsComponent;\nwindow.Decidim.addInputEmoji = addInputEmoji;\n$(function () {\n  window.theDataPicker = new DataPicker($(\".data-picker\"));\n  window.focusGuard = new FocusGuard(document.querySelector(\"body\"));\n  $(document).foundation();\n  $(document).on(\"open.zf.reveal\", function (ev) {\n    dialogMode($(ev.target));\n  });\n\n  // Trap the focus within the mobile menu if the user enters it. This is an\n  // accessibility feature forcing the focus within the offcanvas container\n  // which holds the mobile menu.\n  $(\"#offCanvas\").on(\"openedEnd.zf.offCanvas\", function (ev) {\n    ev.target.querySelector(\".main-nav a\").focus();\n    window.focusGuard.trap(ev.target);\n  }).on(\"closed.zf.offCanvas\", function () {\n    window.focusGuard.disable();\n  });\n  fixDropdownMenus();\n  svg4everybody();\n\n  // Prevent data-open buttons e.g. from submitting the underlying form in\n  // authorized action buttons.\n  $(\"[data-open]\").on(\"click\", function (event) {\n    event.preventDefault();\n  });\n  formDatePicker();\n  $(\".editor-container\").each(function (_idx, container) {\n    createQuillEditor(container);\n  });\n  $('a[target=\"_blank\"]').each(function (_i, elem) {\n    var $link = $(elem);\n    $link.data(\"external-link\", new ExternalLink($link));\n  });\n\n  // Mount comments component\n  $(\"[data-decidim-comments]\").each(function (_i, el) {\n    var $el = $(el);\n    var comments = new CommentsComponent($el, $el.data(\"decidim-comments\"));\n    comments.mountComponent();\n    $(el).data(\"comments\", comments);\n  });\n  $(\"form.new_filter\").each(function () {\n    var formFilter = new FormFilterComponent($(this));\n    formFilter.mountComponent();\n  });\n  updateExternalDomainLinks($(\"body\"));\n  addInputEmoji();\n  backToListLink(document.querySelectorAll(\".js-back-to-list\"));\n});","map":{"version":3,"names":["svg4everybody","formDatePicker","fixDropdownMenus","createQuillEditor","Configuration","ExternalLink","updateExternalDomainLinks","InputCharacterCounter","FormValidator","CommentsComponent","DataPicker","FormFilterComponent","addInputEmoji","dialogMode","FocusGuard","backToListLink","window","Decidim","config","$","theDataPicker","focusGuard","document","querySelector","foundation","on","ev","target","focus","trap","disable","event","preventDefault","each","_idx","container","_i","elem","$link","data","el","$el","comments","mountComponent","formFilter","querySelectorAll"],"sources":["/home/nico/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/decidim-core-0.27.3/app/packs/src/decidim/index.js"],"sourcesContent":["/* eslint-disable no-invalid-this */\n\nimport svg4everybody from \"svg4everybody\"\nimport formDatePicker from \"src/decidim/form_datepicker\"\nimport fixDropdownMenus from \"src/decidim/dropdowns_menus\"\nimport createQuillEditor from \"src/decidim/editor\"\nimport Configuration from \"src/decidim/configuration\"\nimport ExternalLink from \"src/decidim/external_link\"\nimport updateExternalDomainLinks from \"src/decidim/external_domain_warning\"\nimport InputCharacterCounter from \"src/decidim/input_character_counter\"\nimport FormValidator from \"src/decidim/form_validator\"\nimport CommentsComponent from \"src/decidim/comments/comments.component\"\nimport DataPicker from \"src/decidim/data_picker\"\nimport FormFilterComponent from \"src/decidim/form_filter\"\nimport addInputEmoji from \"src/decidim/input_emoji\"\nimport dialogMode from \"src/decidim/dialog_mode\"\nimport FocusGuard from \"src/decidim/focus_guard\"\nimport backToListLink from \"src/decidim/back_to_list\"\n\nwindow.Decidim = window.Decidim || {};\nwindow.Decidim.config = new Configuration()\nwindow.Decidim.ExternalLink = ExternalLink;\nwindow.Decidim.InputCharacterCounter = InputCharacterCounter;\nwindow.Decidim.FormValidator = FormValidator;\nwindow.Decidim.DataPicker = DataPicker;\nwindow.Decidim.CommentsComponent = CommentsComponent;\nwindow.Decidim.addInputEmoji = addInputEmoji;\n\n$(() => {\n  window.theDataPicker = new DataPicker($(\".data-picker\"));\n  window.focusGuard = new FocusGuard(document.querySelector(\"body\"));\n\n  $(document).foundation();\n  $(document).on(\"open.zf.reveal\", (ev) => {\n    dialogMode($(ev.target));\n  });\n\n  // Trap the focus within the mobile menu if the user enters it. This is an\n  // accessibility feature forcing the focus within the offcanvas container\n  // which holds the mobile menu.\n  $(\"#offCanvas\").on(\"openedEnd.zf.offCanvas\", (ev) => {\n    ev.target.querySelector(\".main-nav a\").focus();\n    window.focusGuard.trap(ev.target);\n  }).on(\"closed.zf.offCanvas\", () => {\n    window.focusGuard.disable();\n  });\n\n  fixDropdownMenus();\n\n  svg4everybody();\n\n  // Prevent data-open buttons e.g. from submitting the underlying form in\n  // authorized action buttons.\n  $(\"[data-open]\").on(\"click\", (event) => {\n    event.preventDefault();\n  });\n\n  formDatePicker();\n\n  $(\".editor-container\").each((_idx, container) => {\n    createQuillEditor(container);\n  });\n\n  $('a[target=\"_blank\"]').each((_i, elem) => {\n    const $link = $(elem);\n    $link.data(\"external-link\", new ExternalLink($link));\n  });\n\n  // Mount comments component\n  $(\"[data-decidim-comments]\").each((_i, el) => {\n    const $el = $(el);\n    const comments = new CommentsComponent($el, $el.data(\"decidim-comments\"));\n    comments.mountComponent();\n    $(el).data(\"comments\", comments);\n  });\n\n  $(\"form.new_filter\").each(function () {\n    const formFilter = new FormFilterComponent($(this));\n\n    formFilter.mountComponent();\n  })\n\n  updateExternalDomainLinks($(\"body\"))\n\n  addInputEmoji()\n\n  backToListLink(document.querySelectorAll(\".js-back-to-list\"));\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}