{"ast":null,"code":"$(function () {\n  var $allDiffViews = $(\".row.diff_view\");\n  $(document).on(\"click\", \".diff-view-by a.diff-view-mode\", function (event) {\n    event.preventDefault();\n    var $target = $(event.target);\n    var type = \"escaped\";\n    var $selected = $target.parents(\".is-dropdown-submenu-parent\").find(\"#diff-view-selected\");\n    if ($selected.text().trim() === $target.text().trim()) {\n      return;\n    }\n    $selected.text($target.text());\n    if ($target.attr(\"id\") === \"diff-view-unified\") {\n      if ($(\".row.diff_view_split_escaped\").hasClass(\"hide\")) {\n        type = \"unescaped\";\n      }\n      $allDiffViews.addClass(\"hide\");\n      $(\".row.diff_view_unified_\".concat(type)).removeClass(\"hide\");\n    }\n    if ($target.attr(\"id\") === \"diff-view-split\") {\n      if ($(\".row.diff_view_unified_escaped\").hasClass(\"hide\")) {\n        type = \"unescaped\";\n      }\n      $allDiffViews.addClass(\"hide\");\n      $(\".row.diff_view_split_\".concat(type)).removeClass(\"hide\");\n    }\n  });\n  $(document).on(\"click\", \".diff-view-by a.diff-view-html\", function (event) {\n    event.preventDefault();\n    var $target = $(event.target);\n    $target.parents(\".is-dropdown-submenu-parent\").find(\"#diff-view-html-selected\").text($target.text());\n    var $visibleDiffViewsId = $allDiffViews.not(\".hide\").first().attr(\"id\").split(\"_\").slice(1, -1).join(\"_\");\n    var $visibleDiffViews = $allDiffViews.filter(\"[id*=\".concat($visibleDiffViewsId, \"]\"));\n    if ($target.attr(\"id\") === \"diff-view-escaped-html\") {\n      $visibleDiffViews.filter(\"[id$=_unescaped]\").addClass(\"hide\");\n      $visibleDiffViews.filter(\"[id$=_escaped]\").removeClass(\"hide\");\n    }\n    if ($target.attr(\"id\") === \"diff-view-unescaped-html\") {\n      $visibleDiffViews.filter(\"[id$=_escaped]\").addClass(\"hide\");\n      $visibleDiffViews.filter(\"[id$=_unescaped]\").removeClass(\"hide\");\n    }\n  });\n});","map":{"version":3,"names":["$","$allDiffViews","document","on","event","preventDefault","$target","target","type","$selected","parents","find","text","trim","attr","hasClass","addClass","concat","removeClass","$visibleDiffViewsId","not","first","split","slice","join","$visibleDiffViews","filter"],"sources":["/home/nico/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/decidim-core-0.27.3/app/packs/src/decidim/diff_mode_dropdown.js"],"sourcesContent":["$(() => {\n  const $allDiffViews = $(\".row.diff_view\");\n\n  $(document).on(\"click\", \".diff-view-by a.diff-view-mode\", (event) => {\n    event.preventDefault();\n    const $target = $(event.target)\n    let type = \"escaped\";\n    const $selected = $target.parents(\".is-dropdown-submenu-parent\").find(\"#diff-view-selected\");\n    if ($selected.text().trim() === $target.text().trim()) {\n      return;\n    }\n\n    $selected.text($target.text());\n\n    if ($target.attr(\"id\") === \"diff-view-unified\") {\n      if ($(\".row.diff_view_split_escaped\").hasClass(\"hide\")) {\n        type = \"unescaped\";\n      }\n\n      $allDiffViews.addClass(\"hide\");\n      $(`.row.diff_view_unified_${type}`).removeClass(\"hide\");\n    }\n    if ($target.attr(\"id\") === \"diff-view-split\") {\n      if ($(\".row.diff_view_unified_escaped\").hasClass(\"hide\")) {\n        type = \"unescaped\";\n      }\n\n      $allDiffViews.addClass(\"hide\");\n      $(`.row.diff_view_split_${type}`).removeClass(\"hide\");\n    }\n  })\n\n  $(document).on(\"click\", \".diff-view-by a.diff-view-html\", (event) => {\n    event.preventDefault();\n    const $target = $(event.target);\n    $target.parents(\".is-dropdown-submenu-parent\").find(\"#diff-view-html-selected\").text($target.text());\n    const $visibleDiffViewsId = $allDiffViews.not(\".hide\").first().attr(\"id\").split(\"_\").slice(1, -1).join(\"_\");\n    const $visibleDiffViews = $allDiffViews.filter(`[id*=${$visibleDiffViewsId}]`)\n\n    if ($target.attr(\"id\") === \"diff-view-escaped-html\") {\n      $visibleDiffViews.filter(\"[id$=_unescaped]\").addClass(\"hide\");\n      $visibleDiffViews.filter(\"[id$=_escaped]\").removeClass(\"hide\");\n    }\n    if ($target.attr(\"id\") === \"diff-view-unescaped-html\") {\n      $visibleDiffViews.filter(\"[id$=_escaped]\").addClass(\"hide\");\n      $visibleDiffViews.filter(\"[id$=_unescaped]\").removeClass(\"hide\");\n    }\n  })\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}