{"ast":null,"code":"$(function () {\n  var $inputs = $(\"input[data-autojump]\");\n  var DELETE_KEY_CODE = 8;\n\n  // Initialize\n  $inputs.on(\"keydown\", function (event) {\n    // Don't do anything if there is selected text\n    if (event.target.selectionStart !== event.target.selectionEnd) {\n      return;\n    }\n    if (event.originalEvent.key.length === 1 && event.target.dataset.jumpNext) {\n      if (event.target.value.length === parseInt(event.target.dataset.maxLength, 10)) {\n        event.preventDefault();\n        setTimeout(function () {\n          var next = $(event.target.dataset.jumpNext);\n          next.val(event.originalEvent.key);\n          next.trigger(\"focus\");\n        }, 1);\n      }\n    } else if (event.originalEvent.keyCode === DELETE_KEY_CODE && event.target.dataset.jumpPrev) {\n      if (event.target.value.length === 0) {\n        event.preventDefault();\n        setTimeout(function () {\n          var prev = $(event.target.dataset.jumpPrev);\n          prev.val(prev.val().slice(0, -1));\n          prev.trigger(\"focus\");\n        }, 1);\n      }\n    }\n  });\n});","map":{"version":3,"names":["$","$inputs","DELETE_KEY_CODE","on","event","target","selectionStart","selectionEnd","originalEvent","key","length","dataset","jumpNext","value","parseInt","maxLength","preventDefault","setTimeout","next","val","trigger","keyCode","jumpPrev","prev","slice"],"sources":["/home/nico/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/decidim-core-0.27.3/app/packs/src/decidim/input_autojump.js"],"sourcesContent":["$(() => {\n  const $inputs = $(\"input[data-autojump]\");\n  const DELETE_KEY_CODE = 8;\n\n  // Initialize\n  $inputs.on(\"keydown\", (event) => {\n    // Don't do anything if there is selected text\n    if (event.target.selectionStart !== event.target.selectionEnd) {\n      return;\n    }\n\n    if (event.originalEvent.key.length === 1 && event.target.dataset.jumpNext) {\n      if (\n        event.target.value.length ===\n        parseInt(event.target.dataset.maxLength, 10)\n      ) {\n        event.preventDefault();\n        setTimeout(() => {\n          const next = $(event.target.dataset.jumpNext);\n          next.val(event.originalEvent.key);\n          next.trigger(\"focus\");\n        }, 1);\n      }\n    } else if (\n      event.originalEvent.keyCode === DELETE_KEY_CODE &&\n      event.target.dataset.jumpPrev\n    ) {\n      if (event.target.value.length === 0) {\n        event.preventDefault();\n        setTimeout(() => {\n          const prev = $(event.target.dataset.jumpPrev);\n          prev.val(prev.val().slice(0, -1));\n          prev.trigger(\"focus\");\n        }, 1);\n      }\n    }\n  });\n});\n"],"mappings":"AAAAA,CAAC,CAAC,YAAM;EACN,IAAMC,OAAO,GAAGD,CAAC,CAAC,sBAAsB,CAAC;EACzC,IAAME,eAAe,GAAG,CAAC;;EAEzB;EACAD,OAAO,CAACE,EAAE,CAAC,SAAS,EAAE,UAACC,KAAK,EAAK;IAC/B;IACA,IAAIA,KAAK,CAACC,MAAM,CAACC,cAAc,KAAKF,KAAK,CAACC,MAAM,CAACE,YAAY,EAAE;MAC7D;IACF;IAEA,IAAIH,KAAK,CAACI,aAAa,CAACC,GAAG,CAACC,MAAM,KAAK,CAAC,IAAIN,KAAK,CAACC,MAAM,CAACM,OAAO,CAACC,QAAQ,EAAE;MACzE,IACER,KAAK,CAACC,MAAM,CAACQ,KAAK,CAACH,MAAM,KACzBI,QAAQ,CAACV,KAAK,CAACC,MAAM,CAACM,OAAO,CAACI,SAAS,EAAE,EAAE,CAAC,EAC5C;QACAX,KAAK,CAACY,cAAc,CAAC,CAAC;QACtBC,UAAU,CAAC,YAAM;UACf,IAAMC,IAAI,GAAGlB,CAAC,CAACI,KAAK,CAACC,MAAM,CAACM,OAAO,CAACC,QAAQ,CAAC;UAC7CM,IAAI,CAACC,GAAG,CAACf,KAAK,CAACI,aAAa,CAACC,GAAG,CAAC;UACjCS,IAAI,CAACE,OAAO,CAAC,OAAO,CAAC;QACvB,CAAC,EAAE,CAAC,CAAC;MACP;IACF,CAAC,MAAM,IACLhB,KAAK,CAACI,aAAa,CAACa,OAAO,KAAKnB,eAAe,IAC/CE,KAAK,CAACC,MAAM,CAACM,OAAO,CAACW,QAAQ,EAC7B;MACA,IAAIlB,KAAK,CAACC,MAAM,CAACQ,KAAK,CAACH,MAAM,KAAK,CAAC,EAAE;QACnCN,KAAK,CAACY,cAAc,CAAC,CAAC;QACtBC,UAAU,CAAC,YAAM;UACf,IAAMM,IAAI,GAAGvB,CAAC,CAACI,KAAK,CAACC,MAAM,CAACM,OAAO,CAACW,QAAQ,CAAC;UAC7CC,IAAI,CAACJ,GAAG,CAACI,IAAI,CAACJ,GAAG,CAAC,CAAC,CAACK,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;UACjCD,IAAI,CAACH,OAAO,CAAC,OAAO,CAAC;QACvB,CAAC,EAAE,CAAC,CAAC;MACP;IACF;EACF,CAAC,CAAC;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}