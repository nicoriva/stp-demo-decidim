{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\n/* eslint-disable require-jsdoc */\nvar DynamicFieldsComponent = /*#__PURE__*/function () {\n  function DynamicFieldsComponent() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, DynamicFieldsComponent);\n    this.wrapperSelector = options.wrapperSelector;\n    this.containerSelector = options.containerSelector;\n    this.fieldSelector = options.fieldSelector;\n    this.addFieldButtonSelector = options.addFieldButtonSelector;\n    this.addSeparatorButtonSelector = options.addSeparatorButtonSelector;\n    this.addTitleAndDescriptionButtonSelector = options.addTitleAndDescriptionButtonSelector;\n    this.fieldTemplateSelector = options.fieldTemplateSelector;\n    this.separatorTemplateSelector = options.separatorTemplateSelector;\n    this.TitleAndDescriptionTemplateSelector = options.TitleAndDescriptionTemplateSelector;\n    this.removeFieldButtonSelector = options.removeFieldButtonSelector;\n    this.moveUpFieldButtonSelector = options.moveUpFieldButtonSelector;\n    this.moveDownFieldButtonSelector = options.moveDownFieldButtonSelector;\n    this.onAddField = options.onAddField;\n    this.onRemoveField = options.onRemoveField;\n    this.onMoveUpField = options.onMoveUpField;\n    this.onMoveDownField = options.onMoveDownField;\n    this.placeholderId = options.placeholderId;\n    this.elementCounter = 0;\n    this._enableInterpolation();\n    this._activateFields();\n    this._bindEvents();\n  }\n  _createClass(DynamicFieldsComponent, [{\n    key: \"_enableInterpolation\",\n    value: function _enableInterpolation() {\n      $.fn.replaceAttribute = function (attribute, placeholder, value) {\n        $(this).find(\"[\".concat(attribute, \"*=\").concat(placeholder, \"]\")).addBack(\"[\".concat(attribute, \"*=\").concat(placeholder, \"]\")).each(function (index, element) {\n          $(element).attr(attribute, $(element).attr(attribute).replace(placeholder, value));\n        });\n        return this;\n      };\n      $.fn.template = function (placeholder, value) {\n        // See the comment below in the `_addField()` method regarding the\n        // `<template>` tag support in IE11.\n        var $subtemplate = $(this).find(\"template, .decidim-template\");\n        if ($subtemplate.length > 0) {\n          $subtemplate.html(function (index, oldHtml) {\n            return $(oldHtml).template(placeholder, value)[0].outerHTML;\n          });\n        }\n\n        // Handle those subtemplates that are mapped with the `data-template`\n        // attribute. This is also because of the IE11 support.\n        var $subtemplateParents = $(this).find(\"[data-template]\");\n        if ($subtemplateParents.length > 0) {\n          $subtemplateParents.each(function (_i, elem) {\n            var $self = $(elem);\n            var $tpl = $($self.data(\"template\"));\n\n            // Duplicate the sub-template with a unique ID as there may be\n            // multiple parent templates referring to the same sub-template.\n            var $subtpl = $($tpl[0].outerHTML);\n            var subtemplateId = \"\".concat($tpl.attr(\"id\"), \"-\").concat(value);\n            var subtemplateSelector = \"#\".concat(subtemplateId);\n            $subtpl.attr(\"id\", subtemplateId);\n            $self.attr(\"data-template\", subtemplateSelector).data(\"template\", subtemplateSelector);\n            $tpl.after($subtpl);\n            $subtpl.html(function (index, oldHtml) {\n              return $(oldHtml).template(placeholder, value)[0].outerHTML;\n            });\n          });\n        }\n        $(this).replaceAttribute(\"id\", placeholder, value);\n        $(this).replaceAttribute(\"name\", placeholder, value);\n        $(this).replaceAttribute(\"data-tabs-content\", placeholder, value);\n        $(this).replaceAttribute(\"for\", placeholder, value);\n        $(this).replaceAttribute(\"tabs_id\", placeholder, value);\n        $(this).replaceAttribute(\"href\", placeholder, value);\n        $(this).replaceAttribute(\"value\", placeholder, value);\n        return this;\n      };\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this = this;\n      $(this.wrapperSelector).on(\"click\", this.addFieldButtonSelector, function (event) {\n        return _this._bindSafeEvent(event, function () {\n          return _this._addField(_this.fieldTemplateSelector);\n        });\n      });\n      if (this.addSeparatorButtonSelector) {\n        $(this.wrapperSelector).on(\"click\", this.addSeparatorButtonSelector, function (event) {\n          return _this._bindSafeEvent(event, function () {\n            return _this._addField(_this.separatorTemplateSelector);\n          });\n        });\n      }\n      if (this.addTitleAndDescriptionButtonSelector) {\n        $(this.wrapperSelector).on(\"click\", this.addTitleAndDescriptionButtonSelector, function (event) {\n          return _this._bindSafeEvent(event, function () {\n            return _this._addField(_this.TitleAndDescriptionTemplateSelector);\n          });\n        });\n      }\n      $(this.wrapperSelector).on(\"click\", this.removeFieldButtonSelector, function (event) {\n        return _this._bindSafeEvent(event, function (target) {\n          return _this._removeField(target);\n        });\n      });\n      if (this.moveUpFieldButtonSelector) {\n        $(this.wrapperSelector).on(\"click\", this.moveUpFieldButtonSelector, function (event) {\n          return _this._bindSafeEvent(event, function (target) {\n            return _this._moveUpField(target);\n          });\n        });\n      }\n      if (this.moveDownFieldButtonSelector) {\n        $(this.wrapperSelector).on(\"click\", this.moveDownFieldButtonSelector, function (event) {\n          return _this._bindSafeEvent(event, function (target) {\n            return _this._moveDownField(target);\n          });\n        });\n      }\n    }\n  }, {\n    key: \"_bindSafeEvent\",\n    value: function _bindSafeEvent(event, cb) {\n      event.preventDefault();\n      event.stopPropagation();\n      try {\n        return cb(event.target);\n      } catch (error) {\n        console.error(error); // eslint-disable-line no-console\n        return error;\n      }\n    }\n\n    // Adds a field.\n    //\n    // template - A String matching the type of the template. Expected to be\n    //  either \".decidim-question-template\" or \".decidim-separator-template\".\n  }, {\n    key: \"_addField\",\n    value: function _addField() {\n      var templateClass = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \".decidim-template\";\n      var $wrapper = $(this.wrapperSelector);\n      var $container = $wrapper.find(this.containerSelector);\n\n      // Allow defining the template using a `data-template` attribute on the\n      // wrapper element. This is to allow child templates which would otherwise\n      // be impossible using `<script type=\"text/template\">`. See the comment\n      // below regarding the `<template>` tag and IE11.\n      var templateSelector = $wrapper.data(\"template\");\n      var $template = null;\n      if (templateSelector) {\n        $template = $(templateSelector);\n      }\n      if ($template === null || $template.length < 1) {\n        // To preserve IE11 backwards compatibility, the views are using\n        // `<script type=\"text/template\">` with a given `class` instead of\n        // `<template>`. The `<template> tags are parsed in IE11 along with the\n        // DOM which may cause the form elements inside them to break the forms\n        // as they are submitted with them.\n        $template = $wrapper.children(\"template, \".concat(templateClass));\n      }\n      var $newField = $($template.html()).template(this.placeholderId, this._getUID());\n      $newField.find(\"ul.tabs\").attr(\"data-tabs\", true);\n      var $lastQuestion = $container.find(this.fieldSelector).last();\n      if ($lastQuestion.length > 0) {\n        $lastQuestion.after($newField);\n      } else {\n        $newField.appendTo($container);\n      }\n      $newField.foundation();\n      if (this.onAddField) {\n        this.onAddField($newField);\n      }\n    }\n  }, {\n    key: \"_removeField\",\n    value: function _removeField(target) {\n      var $target = $(target);\n      var $removedField = $target.parents(this.fieldSelector);\n      var idInput = $removedField.find(\"input\").filter(function (idx, input) {\n        return input.name.match(/id/);\n      });\n      if (idInput.length > 0) {\n        var deletedInput = $removedField.find(\"input\").filter(function (idx, input) {\n          return input.name.match(/delete/);\n        });\n        if (deletedInput.length > 0) {\n          $(deletedInput[0]).val(true);\n        }\n        $removedField.addClass(\"hidden\");\n        $removedField.hide();\n      } else {\n        $removedField.remove();\n      }\n      if (this.onRemoveField) {\n        this.onRemoveField($removedField);\n      }\n    }\n  }, {\n    key: \"_moveUpField\",\n    value: function _moveUpField(target) {\n      var $target = $(target);\n      var $movedUpField = $target.parents(this.fieldSelector);\n      $movedUpField.prev().before($movedUpField);\n      if (this.onMoveUpField) {\n        this.onMoveUpField($movedUpField);\n      }\n    }\n  }, {\n    key: \"_moveDownField\",\n    value: function _moveDownField(target) {\n      var $target = $(target);\n      var $movedDownField = $target.parents(this.fieldSelector);\n      $movedDownField.next().after($movedDownField);\n      if (this.onMoveDownField) {\n        this.onMoveDownField($movedDownField);\n      }\n    }\n  }, {\n    key: \"_activateFields\",\n    value: function _activateFields() {\n      var _this2 = this;\n      // Move the `<script type=\"text/template\">` elements to the bottom of the\n      // list container so that they will not cause the question moving\n      // functionality to break since it assumes that all children elements are\n      // the dynamic field list child items.\n      var $wrapper = $(this.wrapperSelector);\n      var $container = $wrapper.find(this.containerSelector);\n      $container.append($container.find(\"script\"));\n      $(this.fieldSelector).each(function (idx, el) {\n        $(el).template(_this2.placeholderId, _this2._getUID());\n        $(el).find(\"ul.tabs\").attr(\"data-tabs\", true);\n      });\n    }\n  }, {\n    key: \"_getUID\",\n    value: function _getUID() {\n      this.elementCounter += 1;\n      return new Date().getTime() + this.elementCounter;\n    }\n  }]);\n  return DynamicFieldsComponent;\n}();\nexport default function createDynamicFields(options) {\n  return new DynamicFieldsComponent(options);\n}","map":{"version":3,"names":["DynamicFieldsComponent","options","arguments","length","undefined","_classCallCheck","wrapperSelector","containerSelector","fieldSelector","addFieldButtonSelector","addSeparatorButtonSelector","addTitleAndDescriptionButtonSelector","fieldTemplateSelector","separatorTemplateSelector","TitleAndDescriptionTemplateSelector","removeFieldButtonSelector","moveUpFieldButtonSelector","moveDownFieldButtonSelector","onAddField","onRemoveField","onMoveUpField","onMoveDownField","placeholderId","elementCounter","_enableInterpolation","_activateFields","_bindEvents","_createClass","key","value","$","fn","replaceAttribute","attribute","placeholder","find","concat","addBack","each","index","element","attr","replace","template","$subtemplate","html","oldHtml","outerHTML","$subtemplateParents","_i","elem","$self","$tpl","data","$subtpl","subtemplateId","subtemplateSelector","after","_this","on","event","_bindSafeEvent","_addField","target","_removeField","_moveUpField","_moveDownField","cb","preventDefault","stopPropagation","error","console","templateClass","$wrapper","$container","templateSelector","$template","children","$newField","_getUID","$lastQuestion","last","appendTo","foundation","$target","$removedField","parents","idInput","filter","idx","input","name","match","deletedInput","val","addClass","hide","remove","$movedUpField","prev","before","$movedDownField","next","_this2","append","el","Date","getTime","createDynamicFields"],"sources":["/home/nico/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.3/app/packs/src/decidim/admin/dynamic_fields.component.js"],"sourcesContent":["/* eslint-disable require-jsdoc */\nclass DynamicFieldsComponent {\n  constructor(options = {}) {\n    this.wrapperSelector = options.wrapperSelector;\n    this.containerSelector = options.containerSelector;\n    this.fieldSelector = options.fieldSelector;\n    this.addFieldButtonSelector = options.addFieldButtonSelector;\n    this.addSeparatorButtonSelector = options.addSeparatorButtonSelector;\n    this.addTitleAndDescriptionButtonSelector = options.addTitleAndDescriptionButtonSelector;\n    this.fieldTemplateSelector = options.fieldTemplateSelector;\n    this.separatorTemplateSelector = options.separatorTemplateSelector;\n    this.TitleAndDescriptionTemplateSelector = options.TitleAndDescriptionTemplateSelector;\n    this.removeFieldButtonSelector = options.removeFieldButtonSelector;\n    this.moveUpFieldButtonSelector = options.moveUpFieldButtonSelector;\n    this.moveDownFieldButtonSelector = options.moveDownFieldButtonSelector;\n    this.onAddField = options.onAddField;\n    this.onRemoveField = options.onRemoveField;\n    this.onMoveUpField = options.onMoveUpField;\n    this.onMoveDownField = options.onMoveDownField;\n    this.placeholderId = options.placeholderId;\n    this.elementCounter = 0;\n    this._enableInterpolation();\n    this._activateFields();\n    this._bindEvents();\n  }\n\n  _enableInterpolation() {\n    $.fn.replaceAttribute = function(attribute, placeholder, value) {\n      $(this).find(`[${attribute}*=${placeholder}]`).addBack(`[${attribute}*=${placeholder}]`).each((index, element) => {\n        $(element).attr(attribute, $(element).attr(attribute).replace(placeholder, value));\n      });\n\n      return this;\n    }\n\n    $.fn.template = function(placeholder, value) {\n      // See the comment below in the `_addField()` method regarding the\n      // `<template>` tag support in IE11.\n      const $subtemplate = $(this).find(\"template, .decidim-template\");\n\n      if ($subtemplate.length > 0) {\n        $subtemplate.html((index, oldHtml) => $(oldHtml).template(placeholder, value)[0].outerHTML);\n      }\n\n      // Handle those subtemplates that are mapped with the `data-template`\n      // attribute. This is also because of the IE11 support.\n      const $subtemplateParents = $(this).find(\"[data-template]\");\n\n      if ($subtemplateParents.length > 0) {\n        $subtemplateParents.each((_i, elem) => {\n          const $self = $(elem);\n          const $tpl = $($self.data(\"template\"));\n\n          // Duplicate the sub-template with a unique ID as there may be\n          // multiple parent templates referring to the same sub-template.\n          const $subtpl = $($tpl[0].outerHTML);\n          const subtemplateId = `${$tpl.attr(\"id\")}-${value}`;\n          const subtemplateSelector = `#${subtemplateId}`;\n          $subtpl.attr(\"id\", subtemplateId);\n          $self.attr(\"data-template\", subtemplateSelector).data(\"template\", subtemplateSelector);\n          $tpl.after($subtpl);\n\n          $subtpl.html((index, oldHtml) => $(oldHtml).template(placeholder, value)[0].outerHTML);\n        });\n      }\n\n      $(this).replaceAttribute(\"id\", placeholder, value);\n      $(this).replaceAttribute(\"name\", placeholder, value);\n      $(this).replaceAttribute(\"data-tabs-content\", placeholder, value);\n      $(this).replaceAttribute(\"for\", placeholder, value);\n      $(this).replaceAttribute(\"tabs_id\", placeholder, value);\n      $(this).replaceAttribute(\"href\", placeholder, value);\n      $(this).replaceAttribute(\"value\", placeholder, value);\n\n      return this;\n    }\n  }\n\n  _bindEvents() {\n    $(this.wrapperSelector).on(\"click\", this.addFieldButtonSelector, (event) =>\n      this._bindSafeEvent(event, () => this._addField(this.fieldTemplateSelector))\n    );\n\n    if (this.addSeparatorButtonSelector) {\n      $(this.wrapperSelector).on(\"click\", this.addSeparatorButtonSelector, (event) =>\n        this._bindSafeEvent(event, () => this._addField(this.separatorTemplateSelector))\n      );\n    }\n\n    if (this.addTitleAndDescriptionButtonSelector) {\n      $(this.wrapperSelector).on(\"click\", this.addTitleAndDescriptionButtonSelector, (event) =>\n        this._bindSafeEvent(event, () => this._addField(this.TitleAndDescriptionTemplateSelector))\n      );\n    }\n\n    $(this.wrapperSelector).on(\"click\", this.removeFieldButtonSelector, (event) =>\n      this._bindSafeEvent(event, (target) => this._removeField(target))\n    );\n\n    if (this.moveUpFieldButtonSelector) {\n      $(this.wrapperSelector).on(\"click\", this.moveUpFieldButtonSelector, (event) =>\n        this._bindSafeEvent(event, (target) => this._moveUpField(target))\n      );\n    }\n\n    if (this.moveDownFieldButtonSelector) {\n      $(this.wrapperSelector).on(\"click\", this.moveDownFieldButtonSelector, (event) =>\n        this._bindSafeEvent(event, (target) => this._moveDownField(target))\n      );\n    }\n  }\n\n  _bindSafeEvent(event, cb) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    try {\n      return cb(event.target);\n    } catch (error) {\n      console.error(error); // eslint-disable-line no-console\n      return error;\n    }\n  }\n\n  // Adds a field.\n  //\n  // template - A String matching the type of the template. Expected to be\n  //  either \".decidim-question-template\" or \".decidim-separator-template\".\n  _addField(templateClass = \".decidim-template\") {\n    const $wrapper = $(this.wrapperSelector);\n    const $container = $wrapper.find(this.containerSelector);\n\n    // Allow defining the template using a `data-template` attribute on the\n    // wrapper element. This is to allow child templates which would otherwise\n    // be impossible using `<script type=\"text/template\">`. See the comment\n    // below regarding the `<template>` tag and IE11.\n    const templateSelector = $wrapper.data(\"template\");\n    let $template = null;\n    if (templateSelector) {\n      $template = $(templateSelector);\n    }\n    if ($template === null || $template.length < 1) {\n      // To preserve IE11 backwards compatibility, the views are using\n      // `<script type=\"text/template\">` with a given `class` instead of\n      // `<template>`. The `<template> tags are parsed in IE11 along with the\n      // DOM which may cause the form elements inside them to break the forms\n      // as they are submitted with them.\n      $template = $wrapper.children(`template, ${templateClass}`);\n    }\n\n    const $newField = $($template.html()).template(this.placeholderId, this._getUID());\n\n    $newField.find(\"ul.tabs\").attr(\"data-tabs\", true);\n\n    const $lastQuestion = $container.find(this.fieldSelector).last()\n    if ($lastQuestion.length > 0) {\n      $lastQuestion.after($newField);\n    } else {\n      $newField.appendTo($container);\n    }\n\n    $newField.foundation();\n\n    if (this.onAddField) {\n      this.onAddField($newField);\n    }\n  }\n\n  _removeField(target) {\n    const $target = $(target);\n    const $removedField = $target.parents(this.fieldSelector);\n    const idInput = $removedField.find(\"input\").filter((idx, input) => input.name.match(/id/));\n\n    if (idInput.length > 0) {\n      const deletedInput = $removedField.find(\"input\").filter((idx, input) => input.name.match(/delete/));\n\n      if (deletedInput.length > 0) {\n        $(deletedInput[0]).val(true);\n      }\n\n      $removedField.addClass(\"hidden\");\n      $removedField.hide();\n    } else {\n      $removedField.remove();\n    }\n\n    if (this.onRemoveField) {\n      this.onRemoveField($removedField);\n    }\n  }\n\n  _moveUpField(target) {\n    const $target = $(target);\n    const $movedUpField = $target.parents(this.fieldSelector);\n\n    $movedUpField.prev().before($movedUpField);\n\n    if (this.onMoveUpField) {\n      this.onMoveUpField($movedUpField);\n    }\n  }\n\n  _moveDownField(target) {\n    const $target = $(target);\n    const $movedDownField = $target.parents(this.fieldSelector);\n\n    $movedDownField.next().after($movedDownField);\n\n    if (this.onMoveDownField) {\n      this.onMoveDownField($movedDownField);\n    }\n  }\n\n  _activateFields() {\n    // Move the `<script type=\"text/template\">` elements to the bottom of the\n    // list container so that they will not cause the question moving\n    // functionality to break since it assumes that all children elements are\n    // the dynamic field list child items.\n    const $wrapper = $(this.wrapperSelector);\n    const $container = $wrapper.find(this.containerSelector);\n    $container.append($container.find(\"script\"));\n\n    $(this.fieldSelector).each((idx, el) => {\n      $(el).template(this.placeholderId, this._getUID());\n\n      $(el).find(\"ul.tabs\").attr(\"data-tabs\", true);\n    })\n  }\n\n  _getUID() {\n    this.elementCounter += 1;\n\n    return (new Date().getTime()) + this.elementCounter;\n  }\n}\n\nexport default function createDynamicFields(options) {\n  return new DynamicFieldsComponent(options);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}