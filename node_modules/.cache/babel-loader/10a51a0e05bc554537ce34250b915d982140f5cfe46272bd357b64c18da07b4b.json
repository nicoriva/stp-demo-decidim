{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n/* eslint-disable */\n\n/*\n  Modified file from the original tribute.js\n  Adding inside click event the conditional if the li element has no disabled-tribute-element class name. if true, then it must continue with normal behaviour.\n*/\n(function (f) {\n  if ((typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) === \"object\" && typeof module !== \"undefined\") {\n    module.exports = f();\n  } else if (typeof define === \"function\" && define.amd) {\n    define([], f);\n  } else {\n    var g;\n    if (typeof window !== \"undefined\") {\n      g = window;\n    } else if (typeof global !== \"undefined\") {\n      g = global;\n    } else if (typeof self !== \"undefined\") {\n      g = self;\n    } else {\n      g = this;\n    }\n    g.Tribute = f();\n  }\n})(function () {\n  var define, module, exports;\n  return function () {\n    function r(e, n, t) {\n      function o(i, f) {\n        if (!n[i]) {\n          if (!e[i]) {\n            var c = \"function\" == typeof require && require;\n            if (!f && c) return c(i, !0);\n            if (u) return u(i, !0);\n            var a = new Error(\"Cannot find module '\" + i + \"'\");\n            throw a.code = \"MODULE_NOT_FOUND\", a;\n          }\n          var p = n[i] = {\n            exports: {}\n          };\n          e[i][0].call(p.exports, function (r) {\n            var n = e[i][1][r];\n            return o(n || r);\n          }, p, p.exports, r, e, n, t);\n        }\n        return n[i].exports;\n      }\n      for (var u = \"function\" == typeof require && require, i = 0; i < t.length; i++) o(t[i]);\n      return o;\n    }\n    return r;\n  }()({\n    1: [function (require, module, exports) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports[\"default\"] = void 0;\n      require(\"./utils\");\n      var _TributeEvents = _interopRequireDefault(require(\"./TributeEvents\"));\n      var _TributeMenuEvents = _interopRequireDefault(require(\"./TributeMenuEvents\"));\n      var _TributeRange = _interopRequireDefault(require(\"./TributeRange\"));\n      var _TributeSearch = _interopRequireDefault(require(\"./TributeSearch\"));\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          \"default\": obj\n        };\n      }\n      function _slicedToArray(arr, i) {\n        return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n      }\n      function _nonIterableRest() {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n      }\n      function _iterableToArrayLimit(arr, i) {\n        var _arr = [];\n        var _n = true;\n        var _d = false;\n        var _e = undefined;\n        try {\n          for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n            _arr.push(_s.value);\n            if (i && _arr.length === i) break;\n          }\n        } catch (err) {\n          _d = true;\n          _e = err;\n        } finally {\n          try {\n            if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n          } finally {\n            if (_d) throw _e;\n          }\n        }\n        return _arr;\n      }\n      function _arrayWithHoles(arr) {\n        if (Array.isArray(arr)) return arr;\n      }\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n      function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n      function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n      var Tribute = /*#__PURE__*/\n      function () {\n        function Tribute(_ref) {\n          var _this = this;\n          var _ref$values = _ref.values,\n            values = _ref$values === void 0 ? null : _ref$values,\n            _ref$iframe = _ref.iframe,\n            iframe = _ref$iframe === void 0 ? null : _ref$iframe,\n            _ref$selectClass = _ref.selectClass,\n            selectClass = _ref$selectClass === void 0 ? 'highlight' : _ref$selectClass,\n            _ref$trigger = _ref.trigger,\n            trigger = _ref$trigger === void 0 ? '@' : _ref$trigger,\n            _ref$autocompleteMode = _ref.autocompleteMode,\n            autocompleteMode = _ref$autocompleteMode === void 0 ? false : _ref$autocompleteMode,\n            _ref$selectTemplate = _ref.selectTemplate,\n            selectTemplate = _ref$selectTemplate === void 0 ? null : _ref$selectTemplate,\n            _ref$menuItemTemplate = _ref.menuItemTemplate,\n            menuItemTemplate = _ref$menuItemTemplate === void 0 ? null : _ref$menuItemTemplate,\n            _ref$lookup = _ref.lookup,\n            lookup = _ref$lookup === void 0 ? 'key' : _ref$lookup,\n            _ref$fillAttr = _ref.fillAttr,\n            fillAttr = _ref$fillAttr === void 0 ? 'value' : _ref$fillAttr,\n            _ref$collection = _ref.collection,\n            collection = _ref$collection === void 0 ? null : _ref$collection,\n            _ref$menuContainer = _ref.menuContainer,\n            menuContainer = _ref$menuContainer === void 0 ? null : _ref$menuContainer,\n            _ref$noMatchTemplate = _ref.noMatchTemplate,\n            noMatchTemplate = _ref$noMatchTemplate === void 0 ? null : _ref$noMatchTemplate,\n            _ref$requireLeadingSp = _ref.requireLeadingSpace,\n            requireLeadingSpace = _ref$requireLeadingSp === void 0 ? true : _ref$requireLeadingSp,\n            _ref$allowSpaces = _ref.allowSpaces,\n            allowSpaces = _ref$allowSpaces === void 0 ? false : _ref$allowSpaces,\n            _ref$replaceTextSuffi = _ref.replaceTextSuffix,\n            replaceTextSuffix = _ref$replaceTextSuffi === void 0 ? null : _ref$replaceTextSuffi,\n            _ref$positionMenu = _ref.positionMenu,\n            positionMenu = _ref$positionMenu === void 0 ? true : _ref$positionMenu,\n            _ref$spaceSelectsMatc = _ref.spaceSelectsMatch,\n            spaceSelectsMatch = _ref$spaceSelectsMatc === void 0 ? false : _ref$spaceSelectsMatc,\n            _ref$searchOpts = _ref.searchOpts,\n            searchOpts = _ref$searchOpts === void 0 ? {} : _ref$searchOpts,\n            _ref$menuItemLimit = _ref.menuItemLimit,\n            menuItemLimit = _ref$menuItemLimit === void 0 ? null : _ref$menuItemLimit;\n          _classCallCheck(this, Tribute);\n          this.autocompleteMode = autocompleteMode;\n          this.menuSelected = 0;\n          this.current = {};\n          this.inputEvent = false;\n          this.isActive = false;\n          this.menuContainer = menuContainer;\n          this.allowSpaces = allowSpaces;\n          this.replaceTextSuffix = replaceTextSuffix;\n          this.positionMenu = positionMenu;\n          this.hasTrailingSpace = false;\n          this.spaceSelectsMatch = spaceSelectsMatch;\n          if (this.autocompleteMode) {\n            trigger = '';\n            allowSpaces = false;\n          }\n          if (values) {\n            this.collection = [{\n              // symbol that starts the lookup\n              trigger: trigger,\n              // is it wrapped in an iframe\n              iframe: iframe,\n              // class applied to selected item\n              selectClass: selectClass,\n              // function called on select that retuns the content to insert\n              selectTemplate: (selectTemplate || Tribute.defaultSelectTemplate).bind(this),\n              // function called that returns content for an item\n              menuItemTemplate: (menuItemTemplate || Tribute.defaultMenuItemTemplate).bind(this),\n              // function called when menu is empty, disables hiding of menu.\n              noMatchTemplate: function (t) {\n                if (typeof t === 'function') {\n                  return t.bind(_this);\n                }\n                return noMatchTemplate || function () {\n                  return '';\n                }.bind(_this);\n              }(noMatchTemplate),\n              // column to search against in the object\n              lookup: lookup,\n              // column that contains the content to insert by default\n              fillAttr: fillAttr,\n              // array of objects or a function returning an array of objects\n              values: values,\n              requireLeadingSpace: requireLeadingSpace,\n              searchOpts: searchOpts,\n              menuItemLimit: menuItemLimit\n            }];\n          } else if (collection) {\n            if (this.autocompleteMode) console.warn('Tribute in autocomplete mode does not work for collections');\n            this.collection = collection.map(function (item) {\n              return {\n                trigger: item.trigger || trigger,\n                iframe: item.iframe || iframe,\n                selectClass: item.selectClass || selectClass,\n                selectTemplate: (item.selectTemplate || Tribute.defaultSelectTemplate).bind(_this),\n                menuItemTemplate: (item.menuItemTemplate || Tribute.defaultMenuItemTemplate).bind(_this),\n                // function called when menu is empty, disables hiding of menu.\n                noMatchTemplate: function (t) {\n                  if (typeof t === 'function') {\n                    return t.bind(_this);\n                  }\n                  return null;\n                }(noMatchTemplate),\n                lookup: item.lookup || lookup,\n                fillAttr: item.fillAttr || fillAttr,\n                values: item.values,\n                requireLeadingSpace: item.requireLeadingSpace,\n                searchOpts: item.searchOpts || searchOpts,\n                menuItemLimit: item.menuItemLimit || menuItemLimit\n              };\n            });\n          } else {\n            throw new Error('[Tribute] No collection specified.');\n          }\n          new _TributeRange[\"default\"](this);\n          new _TributeEvents[\"default\"](this);\n          new _TributeMenuEvents[\"default\"](this);\n          new _TributeSearch[\"default\"](this);\n        }\n        _createClass(Tribute, [{\n          key: \"triggers\",\n          value: function triggers() {\n            return this.collection.map(function (config) {\n              return config.trigger;\n            });\n          }\n        }, {\n          key: \"attach\",\n          value: function attach(el) {\n            if (!el) {\n              throw new Error('[Tribute] Must pass in a DOM node or NodeList.');\n            } // Check if it is a jQuery collection\n\n            if (typeof jQuery !== 'undefined' && el instanceof jQuery) {\n              el = el.get();\n            } // Is el an Array/Array-like object?\n\n            if (el.constructor === NodeList || el.constructor === HTMLCollection || el.constructor === Array) {\n              var length = el.length;\n              for (var i = 0; i < length; ++i) {\n                this._attach(el[i]);\n              }\n            } else {\n              this._attach(el);\n            }\n          }\n        }, {\n          key: \"_attach\",\n          value: function _attach(el) {\n            if (el.hasAttribute('data-tribute')) {\n              console.warn('Tribute was already bound to ' + el.nodeName);\n            }\n            this.ensureEditable(el);\n            this.events.bind(el);\n            el.setAttribute('data-tribute', true);\n          }\n        }, {\n          key: \"ensureEditable\",\n          value: function ensureEditable(element) {\n            if (Tribute.inputTypes().indexOf(element.nodeName) === -1) {\n              if (element.contentEditable) {\n                element.contentEditable = true;\n              } else {\n                throw new Error('[Tribute] Cannot bind to ' + element.nodeName);\n              }\n            }\n          }\n        }, {\n          key: \"createMenu\",\n          value: function createMenu() {\n            var wrapper = this.range.getDocument().createElement('div'),\n              ul = this.range.getDocument().createElement('ul');\n            wrapper.className = 'tribute-container';\n            wrapper.setAttribute('aria-expanded', 'true');\n            ul.setAttribute('id', 'results');\n            wrapper.appendChild(ul);\n            if (this.menuContainer) {\n              return this.menuContainer.appendChild(wrapper);\n            }\n            return this.range.getDocument().body.appendChild(wrapper);\n          }\n        }, {\n          key: \"showMenuFor\",\n          value: function showMenuFor(element, scrollTo) {\n            var _this2 = this;\n\n            // Only proceed if menu isn't already shown for the current element & mentionText\n            if (this.isActive && this.current.element === element && this.current.mentionText === this.currentMentionTextSnapshot) {\n              return;\n            }\n            this.currentMentionTextSnapshot = this.current.mentionText; // create the menu if it doesn't exist.\n\n            if (!this.menu) {\n              this.menu = this.createMenu();\n              element.tributeMenu = this.menu;\n              this.menuEvents.bind(this.menu);\n            }\n            this.isActive = true;\n            this.menuSelected = 0;\n            if (!this.current.mentionText) {\n              this.current.mentionText = '';\n            }\n            var processValues = function processValues(values) {\n              // Tribute may not be active any more by the time the value callback returns\n              if (!_this2.isActive) {\n                return;\n              }\n              var items = _this2.search.filter(_this2.current.mentionText, values, {\n                pre: _this2.current.collection.searchOpts.pre || '<span>',\n                post: _this2.current.collection.searchOpts.post || '</span>',\n                skip: _this2.current.collection.searchOpts.skip,\n                extract: function extract(el) {\n                  if (typeof _this2.current.collection.lookup === 'string') {\n                    return el[_this2.current.collection.lookup];\n                  } else if (typeof _this2.current.collection.lookup === 'function') {\n                    return _this2.current.collection.lookup(el, _this2.current.mentionText);\n                  } else {\n                    throw new Error('Invalid lookup attribute, lookup must be string or function.');\n                  }\n                }\n              });\n              if (_this2.current.collection.menuItemLimit) {\n                items = items.slice(0, _this2.current.collection.menuItemLimit);\n              }\n              _this2.current.filteredItems = items;\n              var ul = _this2.menu.querySelector('ul');\n              _this2.range.positionMenuAtCaret(scrollTo);\n              if (!items.length) {\n                var noMatchEvent = new CustomEvent('tribute-no-match', {\n                  detail: _this2.menu\n                });\n                _this2.current.element.dispatchEvent(noMatchEvent);\n                if (typeof _this2.current.collection.noMatchTemplate === 'function' && !_this2.current.collection.noMatchTemplate() || !_this2.current.collection.noMatchTemplate) {\n                  _this2.hideMenu();\n                } else {\n                  typeof _this2.current.collection.noMatchTemplate === 'function' ? ul.innerHTML = _this2.current.collection.noMatchTemplate() : ul.innerHTML = _this2.current.collection.noMatchTemplate;\n                }\n                return;\n              }\n              ul.innerHTML = '';\n              var fragment = _this2.range.getDocument().createDocumentFragment();\n              items.forEach(function (item, index) {\n                var li = _this2.range.getDocument().createElement('li');\n                li.setAttribute('role', 'option');\n                li.setAttribute('data-index', index);\n                li.addEventListener('mousemove', function (e) {\n                  var _this2$_findLiTarget = _this2._findLiTarget(e.target),\n                    _this2$_findLiTarget2 = _slicedToArray(_this2$_findLiTarget, 2),\n                    li = _this2$_findLiTarget2[0],\n                    index = _this2$_findLiTarget2[1];\n                  if (e.movementY !== 0) {\n                    _this2.events.setActiveLi(index);\n                  }\n                });\n                if (_this2.menuSelected === index) {\n                  li.className = _this2.current.collection.selectClass;\n                }\n                li.innerHTML = _this2.current.collection.menuItemTemplate(item);\n                fragment.appendChild(li);\n              });\n              ul.appendChild(fragment);\n            };\n            if (typeof this.current.collection.values === 'function') {\n              this.current.collection.values(this.current.mentionText, processValues);\n            } else {\n              processValues(this.current.collection.values);\n            }\n          }\n        }, {\n          key: \"_findLiTarget\",\n          value: function _findLiTarget(el) {\n            if (!el) return [];\n            var index = el.getAttribute('data-index');\n            return !index ? this._findLiTarget(el.parentNode) : [el, index];\n          }\n        }, {\n          key: \"showMenuForCollection\",\n          value: function showMenuForCollection(element, collectionIndex) {\n            if (element !== document.activeElement) {\n              this.placeCaretAtEnd(element);\n            }\n            this.current.collection = this.collection[collectionIndex || 0];\n            this.current.externalTrigger = true;\n            this.current.element = element;\n            if (element.isContentEditable) this.insertTextAtCursor(this.current.collection.trigger);else this.insertAtCaret(element, this.current.collection.trigger);\n            this.showMenuFor(element);\n          } // TODO: make sure this works for inputs/textareas\n        }, {\n          key: \"placeCaretAtEnd\",\n          value: function placeCaretAtEnd(el) {\n            el.focus();\n            if (typeof window.getSelection != \"undefined\" && typeof document.createRange != \"undefined\") {\n              var range = document.createRange();\n              range.selectNodeContents(el);\n              range.collapse(false);\n              var sel = window.getSelection();\n              sel.removeAllRanges();\n              sel.addRange(range);\n            } else if (typeof document.body.createTextRange != \"undefined\") {\n              var textRange = document.body.createTextRange();\n              textRange.moveToElementText(el);\n              textRange.collapse(false);\n              textRange.select();\n            }\n          } // for contenteditable\n        }, {\n          key: \"insertTextAtCursor\",\n          value: function insertTextAtCursor(text) {\n            var sel, range, html;\n            sel = window.getSelection();\n            range = sel.getRangeAt(0);\n            range.deleteContents();\n            var textNode = document.createTextNode(text);\n            range.insertNode(textNode);\n            range.selectNodeContents(textNode);\n            range.collapse(false);\n            sel.removeAllRanges();\n            sel.addRange(range);\n          } // for regular inputs\n        }, {\n          key: \"insertAtCaret\",\n          value: function insertAtCaret(textarea, text) {\n            var scrollPos = textarea.scrollTop;\n            var caretPos = textarea.selectionStart;\n            var front = textarea.value.substring(0, caretPos);\n            var back = textarea.value.substring(textarea.selectionEnd, textarea.value.length);\n            textarea.value = front + text + back;\n            caretPos = caretPos + text.length;\n            textarea.selectionStart = caretPos;\n            textarea.selectionEnd = caretPos;\n            textarea.focus();\n            textarea.scrollTop = scrollPos;\n          }\n        }, {\n          key: \"hideMenu\",\n          value: function hideMenu() {\n            if (this.menu) {\n              this.menu.style.cssText = 'display: none;';\n              this.isActive = false;\n              this.menuSelected = 0;\n              this.current = {};\n            }\n          }\n        }, {\n          key: \"selectItemAtIndex\",\n          value: function selectItemAtIndex(index, originalEvent) {\n            index = parseInt(index);\n            if (typeof index !== 'number' || isNaN(index)) return;\n            var item = this.current.filteredItems[index];\n            var content = this.current.collection.selectTemplate(item);\n            if (content !== null) this.replaceText(content, originalEvent, item);\n          }\n        }, {\n          key: \"replaceText\",\n          value: function replaceText(content, originalEvent, item) {\n            this.range.replaceTriggerText(content, true, true, originalEvent, item);\n          }\n        }, {\n          key: \"_append\",\n          value: function _append(collection, newValues, replace) {\n            if (typeof collection.values === 'function') {\n              throw new Error('Unable to append to values, as it is a function.');\n            } else if (!replace) {\n              collection.values = collection.values.concat(newValues);\n            } else {\n              collection.values = newValues;\n            }\n          }\n        }, {\n          key: \"append\",\n          value: function append(collectionIndex, newValues, replace) {\n            var index = parseInt(collectionIndex);\n            if (typeof index !== 'number') throw new Error('please provide an index for the collection to update.');\n            var collection = this.collection[index];\n            this._append(collection, newValues, replace);\n          }\n        }, {\n          key: \"appendCurrent\",\n          value: function appendCurrent(newValues, replace) {\n            if (this.isActive) {\n              this._append(this.current.collection, newValues, replace);\n            } else {\n              throw new Error('No active state. Please use append instead and pass an index.');\n            }\n          }\n        }, {\n          key: \"detach\",\n          value: function detach(el) {\n            if (!el) {\n              throw new Error('[Tribute] Must pass in a DOM node or NodeList.');\n            } // Check if it is a jQuery collection\n\n            if (typeof jQuery !== 'undefined' && el instanceof jQuery) {\n              el = el.get();\n            } // Is el an Array/Array-like object?\n\n            if (el.constructor === NodeList || el.constructor === HTMLCollection || el.constructor === Array) {\n              var length = el.length;\n              for (var i = 0; i < length; ++i) {\n                this._detach(el[i]);\n              }\n            } else {\n              this._detach(el);\n            }\n          }\n        }, {\n          key: \"_detach\",\n          value: function _detach(el) {\n            var _this3 = this;\n            this.events.unbind(el);\n            if (el.tributeMenu) {\n              this.menuEvents.unbind(el.tributeMenu);\n            }\n            setTimeout(function () {\n              el.removeAttribute('data-tribute');\n              _this3.isActive = false;\n              if (el.tributeMenu) {\n                el.tributeMenu.remove();\n              }\n            });\n          }\n        }], [{\n          key: \"defaultSelectTemplate\",\n          value: function defaultSelectTemplate(item) {\n            if (typeof item === 'undefined') return null;\n            if (this.range.isContentEditable(this.current.element)) {\n              return '<span class=\"tribute-mention\">' + (this.current.collection.trigger + item.original[this.current.collection.fillAttr]) + '</span>';\n            }\n            return this.current.collection.trigger + item.original[this.current.collection.fillAttr];\n          }\n        }, {\n          key: \"defaultMenuItemTemplate\",\n          value: function defaultMenuItemTemplate(matchItem) {\n            return matchItem.string;\n          }\n        }, {\n          key: \"inputTypes\",\n          value: function inputTypes() {\n            return ['TEXTAREA', 'INPUT'];\n          }\n        }]);\n        return Tribute;\n      }();\n      var _default = Tribute;\n      exports[\"default\"] = _default;\n      module.exports = exports[\"default\"];\n    }, {\n      \"./TributeEvents\": 2,\n      \"./TributeMenuEvents\": 3,\n      \"./TributeRange\": 4,\n      \"./TributeSearch\": 5,\n      \"./utils\": 7\n    }],\n    2: [function (require, module, exports) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports[\"default\"] = void 0;\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n      function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n      function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n      var TributeEvents = /*#__PURE__*/\n      function () {\n        function TributeEvents(tribute) {\n          _classCallCheck(this, TributeEvents);\n          this.tribute = tribute;\n          this.tribute.events = this;\n        }\n        _createClass(TributeEvents, [{\n          key: \"bind\",\n          value: function bind(element) {\n            element.boundKeydown = this.keydown.bind(element, this);\n            element.boundKeyup = this.keyup.bind(element, this);\n            element.boundInput = this.input.bind(element, this);\n            element.addEventListener('keydown', element.boundKeydown, false);\n            element.addEventListener('keyup', element.boundKeyup, false);\n            element.addEventListener('input', element.boundInput, false);\n          }\n        }, {\n          key: \"unbind\",\n          value: function unbind(element) {\n            element.removeEventListener('keydown', element.boundKeydown, false);\n            element.removeEventListener('keyup', element.boundKeyup, false);\n            element.removeEventListener('input', element.boundInput, false);\n            delete element.boundKeydown;\n            delete element.boundKeyup;\n            delete element.boundInput;\n          }\n        }, {\n          key: \"keydown\",\n          value: function keydown(instance, event) {\n            if (instance.shouldDeactivate(event)) {\n              instance.tribute.isActive = false;\n              instance.tribute.hideMenu();\n            }\n            var element = this;\n            instance.commandEvent = false;\n            TributeEvents.keys().forEach(function (o) {\n              if (o.key === event.keyCode) {\n                instance.commandEvent = true;\n                instance.callbacks()[o.value.toLowerCase()](event, element);\n              }\n            });\n          }\n        }, {\n          key: \"input\",\n          value: function input(instance, event) {\n            instance.inputEvent = true;\n            instance.keyup.call(this, instance, event);\n          }\n        }, {\n          key: \"click\",\n          value: function click(instance, event) {\n            var tribute = instance.tribute;\n            if (tribute.menu && tribute.menu.contains(event.target)) {\n              var li = event.target;\n              event.preventDefault();\n              event.stopPropagation();\n              while (li.nodeName.toLowerCase() !== 'li') {\n                li = li.parentNode;\n                if (!li || li === tribute.menu) {\n                  throw new Error('cannot find the <li> container for the click');\n                }\n              }\n              if (li.getElementsByClassName(\"disabled-tribute-element\")[0] == undefined) {\n                tribute.selectItemAtIndex(li.getAttribute('data-index'), event);\n                tribute.hideMenu(); // TODO: should fire with externalTrigger and target is outside of menu\n              }\n            } else if (tribute.current.element && !tribute.current.externalTrigger) {\n              tribute.current.externalTrigger = false;\n              setTimeout(function () {\n                return tribute.hideMenu();\n              });\n            }\n          }\n        }, {\n          key: \"keyup\",\n          value: function keyup(instance, event) {\n            if (instance.inputEvent) {\n              instance.inputEvent = false;\n            }\n            instance.updateSelection(this);\n            if (event.keyCode === 27) return;\n            if (!instance.tribute.allowSpaces && instance.tribute.hasTrailingSpace) {\n              instance.tribute.hasTrailingSpace = false;\n              instance.commandEvent = true;\n              instance.callbacks()[\"space\"](event, this);\n              return;\n            }\n            if (!instance.tribute.isActive) {\n              if (instance.tribute.autocompleteMode) {\n                instance.callbacks().triggerChar(event, this, '');\n              } else {\n                var keyCode = instance.getKeyCode(instance, this, event);\n                if (isNaN(keyCode) || !keyCode) return;\n                var trigger = instance.tribute.triggers().find(function (trigger) {\n                  return trigger.charCodeAt(0) === keyCode;\n                });\n                if (typeof trigger !== 'undefined') {\n                  instance.callbacks().triggerChar(event, this, trigger);\n                }\n              }\n            }\n            if ((instance.tribute.current.trigger || instance.tribute.autocompleteMode) && instance.commandEvent === false || instance.tribute.isActive && event.keyCode === 8) {\n              instance.tribute.showMenuFor(this, true);\n            }\n          }\n        }, {\n          key: \"shouldDeactivate\",\n          value: function shouldDeactivate(event) {\n            if (!this.tribute.isActive) return false;\n            if (this.tribute.current.mentionText.length === 0) {\n              var eventKeyPressed = false;\n              TributeEvents.keys().forEach(function (o) {\n                if (event.keyCode === o.key) eventKeyPressed = true;\n              });\n              return !eventKeyPressed;\n            }\n            return false;\n          }\n        }, {\n          key: \"getKeyCode\",\n          value: function getKeyCode(instance, el, event) {\n            var _char;\n            var tribute = instance.tribute;\n            var info = tribute.range.getTriggerInfo(false, tribute.hasTrailingSpace, true, tribute.allowSpaces, tribute.autocompleteMode);\n            if (info) {\n              return info.mentionTriggerChar.charCodeAt(0);\n            } else {\n              return false;\n            }\n          }\n        }, {\n          key: \"updateSelection\",\n          value: function updateSelection(el) {\n            this.tribute.current.element = el;\n            var info = this.tribute.range.getTriggerInfo(false, this.tribute.hasTrailingSpace, true, this.tribute.allowSpaces, this.tribute.autocompleteMode);\n            if (info) {\n              this.tribute.current.selectedPath = info.mentionSelectedPath;\n              this.tribute.current.mentionText = info.mentionText;\n              this.tribute.current.selectedOffset = info.mentionSelectedOffset;\n            }\n          }\n        }, {\n          key: \"callbacks\",\n          value: function callbacks() {\n            var _this = this;\n            return {\n              triggerChar: function triggerChar(e, el, trigger) {\n                var tribute = _this.tribute;\n                tribute.current.trigger = trigger;\n                var collectionItem = tribute.collection.find(function (item) {\n                  return item.trigger === trigger;\n                });\n                tribute.current.collection = collectionItem;\n                if (tribute.inputEvent) tribute.showMenuFor(el, true);\n              },\n              enter: function enter(e, el) {\n                // choose selection\n                if (_this.tribute.isActive && _this.tribute.current.filteredItems) {\n                  e.preventDefault();\n                  e.stopPropagation();\n                  setTimeout(function () {\n                    _this.tribute.selectItemAtIndex(_this.tribute.menuSelected, e);\n                    _this.tribute.hideMenu();\n                  }, 0);\n                }\n              },\n              escape: function escape(e, el) {\n                if (_this.tribute.isActive) {\n                  e.preventDefault();\n                  e.stopPropagation();\n                  _this.tribute.isActive = false;\n                  _this.tribute.hideMenu();\n                }\n              },\n              tab: function tab(e, el) {\n                // choose first match\n                _this.callbacks().enter(e, el);\n              },\n              space: function space(e, el) {\n                if (_this.tribute.isActive) {\n                  if (_this.tribute.spaceSelectsMatch) {\n                    _this.callbacks().enter(e, el);\n                  } else if (!_this.tribute.allowSpaces) {\n                    e.stopPropagation();\n                    setTimeout(function () {\n                      _this.tribute.hideMenu();\n                      _this.tribute.isActive = false;\n                    }, 0);\n                  }\n                }\n              },\n              up: function up(e, el) {\n                // navigate up ul\n                if (_this.tribute.isActive && _this.tribute.current.filteredItems) {\n                  e.preventDefault();\n                  e.stopPropagation();\n                  var count = _this.tribute.current.filteredItems.length,\n                    selected = _this.tribute.menuSelected;\n                  if (count > selected && selected > 0) {\n                    _this.tribute.menuSelected--;\n                    _this.setActiveLi();\n                  } else if (selected === 0) {\n                    _this.tribute.menuSelected = count - 1;\n                    _this.setActiveLi();\n                    _this.tribute.menu.scrollTop = _this.tribute.menu.scrollHeight;\n                  }\n                }\n              },\n              down: function down(e, el) {\n                // navigate down ul\n                if (_this.tribute.isActive && _this.tribute.current.filteredItems) {\n                  e.preventDefault();\n                  e.stopPropagation();\n                  var count = _this.tribute.current.filteredItems.length - 1,\n                    selected = _this.tribute.menuSelected;\n                  if (count > selected) {\n                    _this.tribute.menuSelected++;\n                    _this.setActiveLi();\n                  } else if (count === selected) {\n                    _this.tribute.menuSelected = 0;\n                    _this.setActiveLi();\n                    _this.tribute.menu.scrollTop = 0;\n                  }\n                }\n              },\n              \"delete\": function _delete(e, el) {\n                if (_this.tribute.isActive && _this.tribute.current.mentionText.length < 1) {\n                  _this.tribute.hideMenu();\n                } else if (_this.tribute.isActive) {\n                  _this.tribute.showMenuFor(el);\n                }\n              }\n            };\n          }\n        }, {\n          key: \"setActiveLi\",\n          value: function setActiveLi(index) {\n            var lis = this.tribute.menu.querySelectorAll('li'),\n              length = lis.length >>> 0;\n            if (index) this.tribute.menuSelected = parseInt(index);\n            for (var i = 0; i < length; i++) {\n              var li = lis[i];\n              if (i === this.tribute.menuSelected) {\n                li.classList.add(this.tribute.current.collection.selectClass);\n                var liClientRect = li.getBoundingClientRect();\n                var menuClientRect = this.tribute.menu.getBoundingClientRect();\n                if (liClientRect.bottom > menuClientRect.bottom) {\n                  var scrollDistance = liClientRect.bottom - menuClientRect.bottom;\n                  this.tribute.menu.scrollTop += scrollDistance;\n                } else if (liClientRect.top < menuClientRect.top) {\n                  var _scrollDistance = menuClientRect.top - liClientRect.top;\n                  this.tribute.menu.scrollTop -= _scrollDistance;\n                }\n              } else {\n                li.classList.remove(this.tribute.current.collection.selectClass);\n              }\n            }\n          }\n        }, {\n          key: \"getFullHeight\",\n          value: function getFullHeight(elem, includeMargin) {\n            var height = elem.getBoundingClientRect().height;\n            if (includeMargin) {\n              var style = elem.currentStyle || window.getComputedStyle(elem);\n              return height + parseFloat(style.marginTop) + parseFloat(style.marginBottom);\n            }\n            return height;\n          }\n        }], [{\n          key: \"keys\",\n          value: function keys() {\n            return [{\n              key: 9,\n              value: 'TAB'\n            }, {\n              key: 8,\n              value: 'DELETE'\n            }, {\n              key: 13,\n              value: 'ENTER'\n            }, {\n              key: 27,\n              value: 'ESCAPE'\n            }, {\n              key: 32,\n              value: 'SPACE'\n            }, {\n              key: 38,\n              value: 'UP'\n            }, {\n              key: 40,\n              value: 'DOWN'\n            }];\n          }\n        }]);\n        return TributeEvents;\n      }();\n      var _default = TributeEvents;\n      exports[\"default\"] = _default;\n      module.exports = exports[\"default\"];\n    }, {}],\n    3: [function (require, module, exports) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports[\"default\"] = void 0;\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n      function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n      function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n      var TributeMenuEvents = /*#__PURE__*/\n      function () {\n        function TributeMenuEvents(tribute) {\n          _classCallCheck(this, TributeMenuEvents);\n          this.tribute = tribute;\n          this.tribute.menuEvents = this;\n          this.menu = this.tribute.menu;\n        }\n        _createClass(TributeMenuEvents, [{\n          key: \"bind\",\n          value: function bind(menu) {\n            var _this = this;\n            this.menuClickEvent = this.tribute.events.click.bind(null, this);\n            this.menuContainerScrollEvent = this.debounce(function () {\n              if (_this.tribute.isActive) {\n                _this.tribute.showMenuFor(_this.tribute.current.element, false);\n              }\n            }, 300, false);\n            this.windowResizeEvent = this.debounce(function () {\n              if (_this.tribute.isActive) {\n                _this.tribute.range.positionMenuAtCaret(true);\n              }\n            }, 300, false); // fixes IE11 issues with mousedown\n\n            this.tribute.range.getDocument().addEventListener('MSPointerDown', this.menuClickEvent, false);\n            this.tribute.range.getDocument().addEventListener('mousedown', this.menuClickEvent, false);\n            window.addEventListener('resize', this.windowResizeEvent);\n            if (this.menuContainer) {\n              this.menuContainer.addEventListener('scroll', this.menuContainerScrollEvent, false);\n            } else {\n              window.addEventListener('scroll', this.menuContainerScrollEvent);\n            }\n          }\n        }, {\n          key: \"unbind\",\n          value: function unbind(menu) {\n            this.tribute.range.getDocument().removeEventListener('mousedown', this.menuClickEvent, false);\n            this.tribute.range.getDocument().removeEventListener('MSPointerDown', this.menuClickEvent, false);\n            window.removeEventListener('resize', this.windowResizeEvent);\n            if (this.menuContainer) {\n              this.menuContainer.removeEventListener('scroll', this.menuContainerScrollEvent, false);\n            } else {\n              window.removeEventListener('scroll', this.menuContainerScrollEvent);\n            }\n          }\n        }, {\n          key: \"debounce\",\n          value: function debounce(func, wait, immediate) {\n            var _this2 = this,\n              _arguments = arguments;\n            var timeout;\n            return function () {\n              var context = _this2,\n                args = _arguments;\n              var later = function later() {\n                timeout = null;\n                if (!immediate) func.apply(context, args);\n              };\n              var callNow = immediate && !timeout;\n              clearTimeout(timeout);\n              timeout = setTimeout(later, wait);\n              if (callNow) func.apply(context, args);\n            };\n          }\n        }]);\n        return TributeMenuEvents;\n      }();\n      var _default = TributeMenuEvents;\n      exports[\"default\"] = _default;\n      module.exports = exports[\"default\"];\n    }, {}],\n    4: [function (require, module, exports) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports[\"default\"] = void 0;\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n      function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n      function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n\n      // Thanks to https://github.com/jeff-collins/ment.io\n      var TributeRange = /*#__PURE__*/\n      function () {\n        function TributeRange(tribute) {\n          _classCallCheck(this, TributeRange);\n          this.tribute = tribute;\n          this.tribute.range = this;\n        }\n        _createClass(TributeRange, [{\n          key: \"getDocument\",\n          value: function getDocument() {\n            var iframe;\n            if (this.tribute.current.collection) {\n              iframe = this.tribute.current.collection.iframe;\n            }\n            if (!iframe) {\n              return document;\n            }\n            return iframe.contentWindow.document;\n          }\n        }, {\n          key: \"positionMenuAtCaret\",\n          value: function positionMenuAtCaret(scrollTo) {\n            var _this = this;\n            var context = this.tribute.current,\n              coordinates;\n            var info = this.getTriggerInfo(false, this.tribute.hasTrailingSpace, true, this.tribute.allowSpaces, this.tribute.autocompleteMode);\n            if (typeof info !== 'undefined') {\n              if (!this.tribute.positionMenu) {\n                this.tribute.menu.style.cssText = \"display: block;\";\n                return;\n              }\n              if (!this.isContentEditable(context.element)) {\n                coordinates = this.getTextAreaOrInputUnderlinePosition(this.tribute.current.element, info.mentionPosition);\n              } else {\n                coordinates = this.getContentEditableCaretPosition(info.mentionPosition);\n              }\n              this.tribute.menu.style.cssText = \"top: \".concat(coordinates.top, \"px;\\n                                     left: \").concat(coordinates.left, \"px;\\n                                     right: \").concat(coordinates.right, \"px;\\n                                     bottom: \").concat(coordinates.bottom, \"px;\\n                                     position: absolute;\\n                                     display: block;\");\n              if (coordinates.left === 'auto') {\n                this.tribute.menu.style.left = 'auto';\n              }\n              if (coordinates.top === 'auto') {\n                this.tribute.menu.style.top = 'auto';\n              }\n              if (scrollTo) this.scrollIntoView();\n              window.setTimeout(function () {\n                var menuDimensions = {\n                  width: _this.tribute.menu.offsetWidth,\n                  height: _this.tribute.menu.offsetHeight\n                };\n                var menuIsOffScreen = _this.isMenuOffScreen(coordinates, menuDimensions);\n                var menuIsOffScreenHorizontally = window.innerWidth > menuDimensions.width && (menuIsOffScreen.left || menuIsOffScreen.right);\n                var menuIsOffScreenVertically = window.innerHeight > menuDimensions.height && (menuIsOffScreen.top || menuIsOffScreen.bottom);\n                if (menuIsOffScreenHorizontally || menuIsOffScreenVertically) {\n                  _this.tribute.menu.style.cssText = 'display: none';\n                  _this.positionMenuAtCaret(scrollTo);\n                }\n              }, 0);\n            } else {\n              this.tribute.menu.style.cssText = 'display: none';\n            }\n          }\n        }, {\n          key: \"selectElement\",\n          value: function selectElement(targetElement, path, offset) {\n            var range;\n            var elem = targetElement;\n            if (path) {\n              for (var i = 0; i < path.length; i++) {\n                elem = elem.childNodes[path[i]];\n                if (elem === undefined) {\n                  return;\n                }\n                while (elem.length < offset) {\n                  offset -= elem.length;\n                  elem = elem.nextSibling;\n                }\n                if (elem.childNodes.length === 0 && !elem.length) {\n                  elem = elem.previousSibling;\n                }\n              }\n            }\n            var sel = this.getWindowSelection();\n            range = this.getDocument().createRange();\n            range.setStart(elem, offset);\n            range.setEnd(elem, offset);\n            range.collapse(true);\n            try {\n              sel.removeAllRanges();\n            } catch (error) {}\n            sel.addRange(range);\n            targetElement.focus();\n          }\n        }, {\n          key: \"replaceTriggerText\",\n          value: function replaceTriggerText(text, requireLeadingSpace, hasTrailingSpace, originalEvent, item) {\n            var info = this.getTriggerInfo(true, hasTrailingSpace, requireLeadingSpace, this.tribute.allowSpaces, this.tribute.autocompleteMode);\n            if (info !== undefined) {\n              var context = this.tribute.current;\n              var replaceEvent = new CustomEvent('tribute-replaced', {\n                detail: {\n                  item: item,\n                  instance: context,\n                  context: info,\n                  event: originalEvent\n                }\n              });\n              if (!this.isContentEditable(context.element)) {\n                var myField = this.tribute.current.element;\n                var textSuffix = typeof this.tribute.replaceTextSuffix == 'string' ? this.tribute.replaceTextSuffix : ' ';\n                text += textSuffix;\n                var startPos = info.mentionPosition;\n                var endPos = info.mentionPosition + info.mentionText.length + textSuffix.length;\n                myField.value = myField.value.substring(0, startPos) + text + myField.value.substring(endPos, myField.value.length);\n                myField.selectionStart = startPos + text.length;\n                myField.selectionEnd = startPos + text.length;\n              } else {\n                // add a space to the end of the pasted text\n                var _textSuffix = typeof this.tribute.replaceTextSuffix == 'string' ? this.tribute.replaceTextSuffix : '\\xA0';\n                text += _textSuffix;\n                this.pasteHtml(text, info.mentionPosition, info.mentionPosition + info.mentionText.length + !this.tribute.autocompleteMode);\n              }\n              context.element.dispatchEvent(replaceEvent);\n            }\n          }\n        }, {\n          key: \"pasteHtml\",\n          value: function pasteHtml(html, startPos, endPos) {\n            var range, sel;\n            sel = this.getWindowSelection();\n            range = this.getDocument().createRange();\n            range.setStart(sel.anchorNode, startPos);\n            range.setEnd(sel.anchorNode, endPos);\n            range.deleteContents();\n            var el = this.getDocument().createElement('div');\n            el.innerHTML = html;\n            var frag = this.getDocument().createDocumentFragment(),\n              node,\n              lastNode;\n            while (node = el.firstChild) {\n              lastNode = frag.appendChild(node);\n            }\n            range.insertNode(frag); // Preserve the selection\n\n            if (lastNode) {\n              range = range.cloneRange();\n              range.setStartAfter(lastNode);\n              range.collapse(true);\n              sel.removeAllRanges();\n              sel.addRange(range);\n            }\n          }\n        }, {\n          key: \"getWindowSelection\",\n          value: function getWindowSelection() {\n            if (this.tribute.collection.iframe) {\n              return this.tribute.collection.iframe.contentWindow.getSelection();\n            }\n            return window.getSelection();\n          }\n        }, {\n          key: \"getNodePositionInParent\",\n          value: function getNodePositionInParent(element) {\n            if (element.parentNode === null) {\n              return 0;\n            }\n            for (var i = 0; i < element.parentNode.childNodes.length; i++) {\n              var node = element.parentNode.childNodes[i];\n              if (node === element) {\n                return i;\n              }\n            }\n          }\n        }, {\n          key: \"getContentEditableSelectedPath\",\n          value: function getContentEditableSelectedPath(ctx) {\n            var sel = this.getWindowSelection();\n            var selected = sel.anchorNode;\n            var path = [];\n            var offset;\n            if (selected != null) {\n              var i;\n              var ce = selected.contentEditable;\n              while (selected !== null && ce !== 'true') {\n                i = this.getNodePositionInParent(selected);\n                path.push(i);\n                selected = selected.parentNode;\n                if (selected !== null) {\n                  ce = selected.contentEditable;\n                }\n              }\n              path.reverse(); // getRangeAt may not exist, need alternative\n\n              offset = sel.getRangeAt(0).startOffset;\n              return {\n                selected: selected,\n                path: path,\n                offset: offset\n              };\n            }\n          }\n        }, {\n          key: \"getTextPrecedingCurrentSelection\",\n          value: function getTextPrecedingCurrentSelection() {\n            var context = this.tribute.current,\n              text = '';\n            if (!this.isContentEditable(context.element)) {\n              var textComponent = this.tribute.current.element;\n              if (textComponent) {\n                var startPos = textComponent.selectionStart;\n                if (textComponent.value && startPos >= 0) {\n                  text = textComponent.value.substring(0, startPos);\n                }\n              }\n            } else {\n              var selectedElem = this.getWindowSelection().anchorNode;\n              if (selectedElem != null) {\n                var workingNodeContent = selectedElem.textContent;\n                var selectStartOffset = this.getWindowSelection().getRangeAt(0).startOffset;\n                if (workingNodeContent && selectStartOffset >= 0) {\n                  text = workingNodeContent.substring(0, selectStartOffset);\n                }\n              }\n            }\n            return text;\n          }\n        }, {\n          key: \"getLastWordInText\",\n          value: function getLastWordInText(text) {\n            text = text.replace(/\\u00A0/g, ' '); // https://stackoverflow.com/questions/29850407/how-do-i-replace-unicode-character-u00a0-with-a-space-in-javascript\n\n            var wordsArray = text.split(/\\s+/);\n            var worldsCount = wordsArray.length - 1;\n            return wordsArray[worldsCount].trim();\n          }\n        }, {\n          key: \"getTriggerInfo\",\n          value: function getTriggerInfo(menuAlreadyActive, hasTrailingSpace, requireLeadingSpace, allowSpaces, isAutocomplete) {\n            var _this2 = this;\n            var ctx = this.tribute.current;\n            var selected, path, offset;\n            if (!this.isContentEditable(ctx.element)) {\n              selected = this.tribute.current.element;\n            } else {\n              var selectionInfo = this.getContentEditableSelectedPath(ctx);\n              if (selectionInfo) {\n                selected = selectionInfo.selected;\n                path = selectionInfo.path;\n                offset = selectionInfo.offset;\n              }\n            }\n            var effectiveRange = this.getTextPrecedingCurrentSelection();\n            var lastWordOfEffectiveRange = this.getLastWordInText(effectiveRange);\n            if (isAutocomplete) {\n              return {\n                mentionPosition: effectiveRange.length - lastWordOfEffectiveRange.length,\n                mentionText: lastWordOfEffectiveRange,\n                mentionSelectedElement: selected,\n                mentionSelectedPath: path,\n                mentionSelectedOffset: offset\n              };\n            }\n            if (effectiveRange !== undefined && effectiveRange !== null) {\n              var mostRecentTriggerCharPos = -1;\n              var triggerChar;\n              this.tribute.collection.forEach(function (config) {\n                var c = config.trigger;\n                var idx = config.requireLeadingSpace ? _this2.lastIndexWithLeadingSpace(effectiveRange, c) : effectiveRange.lastIndexOf(c);\n                if (idx > mostRecentTriggerCharPos) {\n                  mostRecentTriggerCharPos = idx;\n                  triggerChar = c;\n                  requireLeadingSpace = config.requireLeadingSpace;\n                }\n              });\n              if (mostRecentTriggerCharPos >= 0 && (mostRecentTriggerCharPos === 0 || !requireLeadingSpace || /[\\xA0\\s]/g.test(effectiveRange.substring(mostRecentTriggerCharPos - 1, mostRecentTriggerCharPos)))) {\n                var currentTriggerSnippet = effectiveRange.substring(mostRecentTriggerCharPos + 1, effectiveRange.length);\n                triggerChar = effectiveRange.substring(mostRecentTriggerCharPos, mostRecentTriggerCharPos + 1);\n                var firstSnippetChar = currentTriggerSnippet.substring(0, 1);\n                var leadingSpace = currentTriggerSnippet.length > 0 && (firstSnippetChar === ' ' || firstSnippetChar === '\\xA0');\n                if (hasTrailingSpace) {\n                  currentTriggerSnippet = currentTriggerSnippet.trim();\n                }\n                var regex = allowSpaces ? /[^\\S ]/g : /[\\xA0\\s]/g;\n                this.tribute.hasTrailingSpace = regex.test(currentTriggerSnippet);\n                if (!leadingSpace && (menuAlreadyActive || !regex.test(currentTriggerSnippet))) {\n                  return {\n                    mentionPosition: mostRecentTriggerCharPos,\n                    mentionText: currentTriggerSnippet,\n                    mentionSelectedElement: selected,\n                    mentionSelectedPath: path,\n                    mentionSelectedOffset: offset,\n                    mentionTriggerChar: triggerChar\n                  };\n                }\n              }\n            }\n          }\n        }, {\n          key: \"lastIndexWithLeadingSpace\",\n          value: function lastIndexWithLeadingSpace(str, _char) {\n            var reversedStr = str.split('').reverse().join('');\n            var index = -1;\n            for (var cidx = 0, len = str.length; cidx < len; cidx++) {\n              var firstChar = cidx === str.length - 1;\n              var leadingSpace = /\\s/.test(reversedStr[cidx + 1]);\n              var match = _char === reversedStr[cidx];\n              if (match && (firstChar || leadingSpace)) {\n                index = str.length - 1 - cidx;\n                break;\n              }\n            }\n            return index;\n          }\n        }, {\n          key: \"isContentEditable\",\n          value: function isContentEditable(element) {\n            return element.nodeName !== 'INPUT' && element.nodeName !== 'TEXTAREA';\n          }\n        }, {\n          key: \"isMenuOffScreen\",\n          value: function isMenuOffScreen(coordinates, menuDimensions) {\n            var windowWidth = window.innerWidth;\n            var windowHeight = window.innerHeight;\n            var doc = document.documentElement;\n            var windowLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n            var windowTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n            var menuTop = typeof coordinates.top === 'number' ? coordinates.top : windowTop + windowHeight - coordinates.bottom - menuDimensions.height;\n            var menuRight = typeof coordinates.right === 'number' ? coordinates.right : coordinates.left + menuDimensions.width;\n            var menuBottom = typeof coordinates.bottom === 'number' ? coordinates.bottom : coordinates.top + menuDimensions.height;\n            var menuLeft = typeof coordinates.left === 'number' ? coordinates.left : windowLeft + windowWidth - coordinates.right - menuDimensions.width;\n            return {\n              top: menuTop < Math.floor(windowTop),\n              right: menuRight > Math.ceil(windowLeft + windowWidth),\n              bottom: menuBottom > Math.ceil(windowTop + windowHeight),\n              left: menuLeft < Math.floor(windowLeft)\n            };\n          }\n        }, {\n          key: \"getMenuDimensions\",\n          value: function getMenuDimensions() {\n            // Width of the menu depends of its contents and position\n            // We must check what its width would be without any obstruction\n            // This way, we can achieve good positioning for flipping the menu\n            var dimensions = {\n              width: null,\n              height: null\n            };\n            this.tribute.menu.style.cssText = \"top: 0px;\\n                                 left: 0px;\\n                                 position: fixed;\\n                                 display: block;\\n                                 visibility; hidden;\";\n            dimensions.width = this.tribute.menu.offsetWidth;\n            dimensions.height = this.tribute.menu.offsetHeight;\n            this.tribute.menu.style.cssText = \"display: none;\";\n            return dimensions;\n          }\n        }, {\n          key: \"getTextAreaOrInputUnderlinePosition\",\n          value: function getTextAreaOrInputUnderlinePosition(element, position, flipped) {\n            var properties = ['direction', 'boxSizing', 'width', 'height', 'overflowX', 'overflowY', 'borderTopWidth', 'borderRightWidth', 'borderBottomWidth', 'borderLeftWidth', 'paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft', 'fontStyle', 'fontVariant', 'fontWeight', 'fontStretch', 'fontSize', 'fontSizeAdjust', 'lineHeight', 'fontFamily', 'textAlign', 'textTransform', 'textIndent', 'textDecoration', 'letterSpacing', 'wordSpacing'];\n            var isFirefox = window.mozInnerScreenX !== null;\n            var div = this.getDocument().createElement('div');\n            div.id = 'input-textarea-caret-position-mirror-div';\n            this.getDocument().body.appendChild(div);\n            var style = div.style;\n            var computed = window.getComputedStyle ? getComputedStyle(element) : element.currentStyle;\n            style.whiteSpace = 'pre-wrap';\n            if (element.nodeName !== 'INPUT') {\n              style.wordWrap = 'break-word';\n            } // position off-screen\n\n            style.position = 'absolute';\n            style.visibility = 'hidden'; // transfer the element's properties to the div\n\n            properties.forEach(function (prop) {\n              style[prop] = computed[prop];\n            });\n            if (isFirefox) {\n              style.width = \"\".concat(parseInt(computed.width) - 2, \"px\");\n              if (element.scrollHeight > parseInt(computed.height)) style.overflowY = 'scroll';\n            } else {\n              style.overflow = 'hidden';\n            }\n            div.textContent = element.value.substring(0, position);\n            if (element.nodeName === 'INPUT') {\n              div.textContent = div.textContent.replace(/\\s/g, ' ');\n            }\n            var span = this.getDocument().createElement('span');\n            span.textContent = element.value.substring(position) || '.';\n            div.appendChild(span);\n            var rect = element.getBoundingClientRect();\n            var doc = document.documentElement;\n            var windowLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n            var windowTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n            var top = 0;\n            var left = 0;\n            if (this.menuContainerIsBody) {\n              top = rect.top;\n              left = rect.left;\n            }\n            var coordinates = {\n              top: top + windowTop + span.offsetTop + parseInt(computed.borderTopWidth) + parseInt(computed.fontSize) - element.scrollTop,\n              left: left + windowLeft + span.offsetLeft + parseInt(computed.borderLeftWidth)\n            };\n            var windowWidth = window.innerWidth;\n            var windowHeight = window.innerHeight;\n            var menuDimensions = this.getMenuDimensions();\n            var menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions);\n            if (menuIsOffScreen.right) {\n              coordinates.right = windowWidth - coordinates.left;\n              coordinates.left = 'auto';\n            }\n            var parentHeight = this.tribute.menuContainer ? this.tribute.menuContainer.offsetHeight : this.getDocument().body.offsetHeight;\n            if (menuIsOffScreen.bottom) {\n              var parentRect = this.tribute.menuContainer ? this.tribute.menuContainer.getBoundingClientRect() : this.getDocument().body.getBoundingClientRect();\n              var scrollStillAvailable = parentHeight - (windowHeight - parentRect.top);\n              coordinates.bottom = scrollStillAvailable + (windowHeight - rect.top - span.offsetTop);\n              coordinates.top = 'auto';\n            }\n            menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions);\n            if (menuIsOffScreen.left) {\n              coordinates.left = windowWidth > menuDimensions.width ? windowLeft + windowWidth - menuDimensions.width : windowLeft;\n              delete coordinates.right;\n            }\n            if (menuIsOffScreen.top) {\n              coordinates.top = windowHeight > menuDimensions.height ? windowTop + windowHeight - menuDimensions.height : windowTop;\n              delete coordinates.bottom;\n            }\n            this.getDocument().body.removeChild(div);\n            return coordinates;\n          }\n        }, {\n          key: \"getContentEditableCaretPosition\",\n          value: function getContentEditableCaretPosition(selectedNodePosition) {\n            var markerTextChar = '﻿';\n            var markerEl,\n              markerId = \"sel_\".concat(new Date().getTime(), \"_\").concat(Math.random().toString().substr(2));\n            var range;\n            var sel = this.getWindowSelection();\n            var prevRange = sel.getRangeAt(0);\n            range = this.getDocument().createRange();\n            range.setStart(sel.anchorNode, selectedNodePosition);\n            range.setEnd(sel.anchorNode, selectedNodePosition);\n            range.collapse(false); // Create the marker element containing a single invisible character using DOM methods and insert it\n\n            markerEl = this.getDocument().createElement('span');\n            markerEl.id = markerId;\n            markerEl.appendChild(this.getDocument().createTextNode(markerTextChar));\n            range.insertNode(markerEl);\n            sel.removeAllRanges();\n            sel.addRange(prevRange);\n            var rect = markerEl.getBoundingClientRect();\n            var doc = document.documentElement;\n            var windowLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n            var windowTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n            var left = 0;\n            var top = 0;\n            if (this.menuContainerIsBody) {\n              left = rect.left;\n              top = rect.top;\n            } else {\n              left = markerEl.offsetLeft;\n              top = markerEl.offsetTop;\n            }\n            var coordinates = {\n              left: left + windowLeft,\n              top: top + markerEl.offsetHeight + windowTop\n            };\n            var windowWidth = window.innerWidth;\n            var windowHeight = window.innerHeight;\n            var menuDimensions = this.getMenuDimensions();\n            var menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions);\n            if (menuIsOffScreen.right) {\n              coordinates.left = 'auto';\n              coordinates.right = windowWidth - rect.left - windowLeft;\n            }\n            var parentHeight = this.tribute.menuContainer ? this.tribute.menuContainer.offsetHeight : this.getDocument().body.offsetHeight;\n            if (menuIsOffScreen.bottom) {\n              var parentRect = this.tribute.menuContainer ? this.tribute.menuContainer.getBoundingClientRect() : this.getDocument().body.getBoundingClientRect();\n              var scrollStillAvailable = parentHeight - (windowHeight - parentRect.top);\n              coordinates.top = 'auto';\n              coordinates.bottom = scrollStillAvailable + (windowHeight - rect.top);\n            }\n            menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions);\n            if (menuIsOffScreen.left) {\n              coordinates.left = windowWidth > menuDimensions.width ? windowLeft + windowWidth - menuDimensions.width : windowLeft;\n              delete coordinates.right;\n            }\n            if (menuIsOffScreen.top) {\n              coordinates.top = windowHeight > menuDimensions.height ? windowTop + windowHeight - menuDimensions.height : windowTop;\n              delete coordinates.bottom;\n            }\n            markerEl.parentNode.removeChild(markerEl);\n            return coordinates;\n          }\n        }, {\n          key: \"scrollIntoView\",\n          value: function scrollIntoView(elem) {\n            var reasonableBuffer = 20,\n              clientRect;\n            var maxScrollDisplacement = 100;\n            var e = this.menu;\n            if (typeof e === 'undefined') return;\n            while (clientRect === undefined || clientRect.height === 0) {\n              clientRect = e.getBoundingClientRect();\n              if (clientRect.height === 0) {\n                e = e.childNodes[0];\n                if (e === undefined || !e.getBoundingClientRect) {\n                  return;\n                }\n              }\n            }\n            var elemTop = clientRect.top;\n            var elemBottom = elemTop + clientRect.height;\n            if (elemTop < 0) {\n              window.scrollTo(0, window.pageYOffset + clientRect.top - reasonableBuffer);\n            } else if (elemBottom > window.innerHeight) {\n              var maxY = window.pageYOffset + clientRect.top - reasonableBuffer;\n              if (maxY - window.pageYOffset > maxScrollDisplacement) {\n                maxY = window.pageYOffset + maxScrollDisplacement;\n              }\n              var targetY = window.pageYOffset - (window.innerHeight - elemBottom);\n              if (targetY > maxY) {\n                targetY = maxY;\n              }\n              window.scrollTo(0, targetY);\n            }\n          }\n        }, {\n          key: \"menuContainerIsBody\",\n          get: function get() {\n            return this.tribute.menuContainer === document.body || !this.tribute.menuContainer;\n          }\n        }]);\n        return TributeRange;\n      }();\n      var _default = TributeRange;\n      exports[\"default\"] = _default;\n      module.exports = exports[\"default\"];\n    }, {}],\n    5: [function (require, module, exports) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports[\"default\"] = void 0;\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n      function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n          var descriptor = props[i];\n          descriptor.enumerable = descriptor.enumerable || false;\n          descriptor.configurable = true;\n          if (\"value\" in descriptor) descriptor.writable = true;\n          Object.defineProperty(target, descriptor.key, descriptor);\n        }\n      }\n      function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n      }\n\n      // Thanks to https://github.com/mattyork/fuzzy\n      var TributeSearch = /*#__PURE__*/\n      function () {\n        function TributeSearch(tribute) {\n          _classCallCheck(this, TributeSearch);\n          this.tribute = tribute;\n          this.tribute.search = this;\n        }\n        _createClass(TributeSearch, [{\n          key: \"simpleFilter\",\n          value: function simpleFilter(pattern, array) {\n            var _this = this;\n            return array.filter(function (string) {\n              return _this.test(pattern, string);\n            });\n          }\n        }, {\n          key: \"test\",\n          value: function test(pattern, string) {\n            return this.match(pattern, string) !== null;\n          }\n        }, {\n          key: \"match\",\n          value: function match(pattern, string, opts) {\n            opts = opts || {};\n            var patternIdx = 0,\n              result = [],\n              len = string.length,\n              totalScore = 0,\n              currScore = 0,\n              pre = opts.pre || '',\n              post = opts.post || '',\n              compareString = opts.caseSensitive && string || string.toLowerCase(),\n              ch,\n              compareChar;\n            if (opts.skip) {\n              return {\n                rendered: string,\n                score: 0\n              };\n            }\n            pattern = opts.caseSensitive && pattern || pattern.toLowerCase();\n            var patternCache = this.traverse(compareString, pattern, 0, 0, []);\n            if (!patternCache) {\n              return null;\n            }\n            return {\n              rendered: this.render(string, patternCache.cache, pre, post),\n              score: patternCache.score\n            };\n          }\n        }, {\n          key: \"traverse\",\n          value: function traverse(string, pattern, stringIndex, patternIndex, patternCache) {\n            // if the pattern search at end\n            if (pattern.length === patternIndex) {\n              // calculate score and copy the cache containing the indices where it's found\n              return {\n                score: this.calculateScore(patternCache),\n                cache: patternCache.slice()\n              };\n            } // if string at end or remaining pattern > remaining string\n\n            if (string.length === stringIndex || pattern.length - patternIndex > string.length - stringIndex) {\n              return undefined;\n            }\n            var c = pattern[patternIndex];\n            var index = string.indexOf(c, stringIndex);\n            var best, temp;\n            while (index > -1) {\n              patternCache.push(index);\n              temp = this.traverse(string, pattern, index + 1, patternIndex + 1, patternCache);\n              patternCache.pop(); // if downstream traversal failed, return best answer so far\n\n              if (!temp) {\n                return best;\n              }\n              if (!best || best.score < temp.score) {\n                best = temp;\n              }\n              index = string.indexOf(c, index + 1);\n            }\n            return best;\n          }\n        }, {\n          key: \"calculateScore\",\n          value: function calculateScore(patternCache) {\n            var score = 0;\n            var temp = 1;\n            patternCache.forEach(function (index, i) {\n              if (i > 0) {\n                if (patternCache[i - 1] + 1 === index) {\n                  temp += temp + 1;\n                } else {\n                  temp = 1;\n                }\n              }\n              score += temp;\n            });\n            return score;\n          }\n        }, {\n          key: \"render\",\n          value: function render(string, indices, pre, post) {\n            var rendered = string.substring(0, indices[0]);\n            indices.forEach(function (index, i) {\n              rendered += pre + string[index] + post + string.substring(index + 1, indices[i + 1] ? indices[i + 1] : string.length);\n            });\n            return rendered;\n          }\n        }, {\n          key: \"filter\",\n          value: function filter(pattern, arr, opts) {\n            var _this2 = this;\n            opts = opts || {};\n            return arr.reduce(function (prev, element, idx, arr) {\n              var str = element;\n              if (opts.extract) {\n                str = opts.extract(element);\n                if (!str) {\n                  // take care of undefineds / nulls / etc.\n                  str = '';\n                }\n              }\n              var rendered = _this2.match(pattern, str, opts);\n              if (rendered != null) {\n                prev[prev.length] = {\n                  string: rendered.rendered,\n                  score: rendered.score,\n                  index: idx,\n                  original: element\n                };\n              }\n              return prev;\n            }, []).sort(function (a, b) {\n              var compare = b.score - a.score;\n              if (compare) return compare;\n              return a.index - b.index;\n            });\n          }\n        }]);\n        return TributeSearch;\n      }();\n      var _default = TributeSearch;\n      exports[\"default\"] = _default;\n      module.exports = exports[\"default\"];\n    }, {}],\n    6: [function (require, module, exports) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports[\"default\"] = void 0;\n      var _Tribute = _interopRequireDefault(require(\"./Tribute\"));\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          \"default\": obj\n        };\n      }\n\n      /**\n      * Tribute.js\n      * Native ES6 JavaScript @mention Plugin\n      **/\n      var _default = _Tribute[\"default\"];\n      exports[\"default\"] = _default;\n      module.exports = exports[\"default\"];\n    }, {\n      \"./Tribute\": 1\n    }],\n    7: [function (require, module, exports) {\n      \"use strict\";\n\n      if (!Array.prototype.find) {\n        Array.prototype.find = function (predicate) {\n          if (this === null) {\n            throw new TypeError('Array.prototype.find called on null or undefined');\n          }\n          if (typeof predicate !== 'function') {\n            throw new TypeError('predicate must be a function');\n          }\n          var list = Object(this);\n          var length = list.length >>> 0;\n          var thisArg = arguments[1];\n          var value;\n          for (var i = 0; i < length; i++) {\n            value = list[i];\n            if (predicate.call(thisArg, value, i, list)) {\n              return value;\n            }\n          }\n          return undefined;\n        };\n      }\n      if (window && typeof window.CustomEvent !== \"function\") {\n        var CustomEvent = function CustomEvent(event, params) {\n          params = params || {\n            bubbles: false,\n            cancelable: false,\n            detail: undefined\n          };\n          var evt = document.createEvent('CustomEvent');\n          evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n          return evt;\n        };\n        if (typeof window.Event !== 'undefined') {\n          CustomEvent.prototype = window.Event.prototype;\n        }\n        window.CustomEvent = CustomEvent;\n      }\n    }, {}]\n  }, {}, [6])(6);\n});","map":{"version":3,"names":["f","exports","_typeof","module","define","amd","g","window","global","self","Tribute","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","Object","defineProperty","value","_TributeEvents","_interopRequireDefault","_TributeMenuEvents","_TributeRange","_TributeSearch","obj","__esModule","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","_arr","_n","_d","_e","undefined","_i","Symbol","iterator","_s","next","done","push","err","Array","isArray","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","prototype","_ref","_this","_ref$values","values","_ref$iframe","iframe","_ref$selectClass","selectClass","_ref$trigger","trigger","_ref$autocompleteMode","autocompleteMode","_ref$selectTemplate","selectTemplate","_ref$menuItemTemplate","menuItemTemplate","_ref$lookup","lookup","_ref$fillAttr","fillAttr","_ref$collection","collection","_ref$menuContainer","menuContainer","_ref$noMatchTemplate","noMatchTemplate","_ref$requireLeadingSp","requireLeadingSpace","_ref$allowSpaces","allowSpaces","_ref$replaceTextSuffi","replaceTextSuffix","_ref$positionMenu","positionMenu","_ref$spaceSelectsMatc","spaceSelectsMatch","_ref$searchOpts","searchOpts","_ref$menuItemLimit","menuItemLimit","menuSelected","current","inputEvent","isActive","hasTrailingSpace","defaultSelectTemplate","bind","defaultMenuItemTemplate","console","warn","map","item","triggers","config","attach","el","jQuery","get","constructor","NodeList","HTMLCollection","_attach","hasAttribute","nodeName","ensureEditable","events","setAttribute","element","inputTypes","indexOf","contentEditable","createMenu","wrapper","range","getDocument","createElement","ul","className","appendChild","body","showMenuFor","scrollTo","_this2","mentionText","currentMentionTextSnapshot","menu","tributeMenu","menuEvents","processValues","items","search","filter","pre","post","skip","extract","slice","filteredItems","querySelector","positionMenuAtCaret","noMatchEvent","CustomEvent","detail","dispatchEvent","hideMenu","innerHTML","fragment","createDocumentFragment","forEach","index","li","addEventListener","_this2$_findLiTarget","_findLiTarget","_this2$_findLiTarget2","movementY","setActiveLi","getAttribute","parentNode","showMenuForCollection","collectionIndex","document","activeElement","placeCaretAtEnd","externalTrigger","isContentEditable","insertTextAtCursor","insertAtCaret","focus","getSelection","createRange","selectNodeContents","collapse","sel","removeAllRanges","addRange","createTextRange","textRange","moveToElementText","select","text","html","getRangeAt","deleteContents","textNode","createTextNode","insertNode","textarea","scrollPos","scrollTop","caretPos","selectionStart","front","substring","back","selectionEnd","style","cssText","selectItemAtIndex","originalEvent","parseInt","isNaN","content","replaceText","replaceTriggerText","_append","newValues","replace","concat","append","appendCurrent","detach","_detach","_this3","unbind","setTimeout","removeAttribute","remove","original","matchItem","string","_default","TributeEvents","tribute","boundKeydown","keydown","boundKeyup","keyup","boundInput","input","removeEventListener","event","shouldDeactivate","commandEvent","keys","keyCode","callbacks","toLowerCase","click","contains","preventDefault","stopPropagation","getElementsByClassName","updateSelection","triggerChar","getKeyCode","find","charCodeAt","eventKeyPressed","_char","info","getTriggerInfo","mentionTriggerChar","selectedPath","mentionSelectedPath","selectedOffset","mentionSelectedOffset","collectionItem","enter","escape","tab","space","up","count","selected","scrollHeight","down","_delete","lis","querySelectorAll","classList","add","liClientRect","getBoundingClientRect","menuClientRect","bottom","scrollDistance","top","_scrollDistance","getFullHeight","elem","includeMargin","height","currentStyle","getComputedStyle","parseFloat","marginTop","marginBottom","TributeMenuEvents","menuClickEvent","menuContainerScrollEvent","debounce","windowResizeEvent","func","wait","immediate","_arguments","arguments","timeout","context","args","later","apply","callNow","clearTimeout","TributeRange","contentWindow","coordinates","getTextAreaOrInputUnderlinePosition","mentionPosition","getContentEditableCaretPosition","left","right","scrollIntoView","menuDimensions","width","offsetWidth","offsetHeight","menuIsOffScreen","isMenuOffScreen","menuIsOffScreenHorizontally","innerWidth","menuIsOffScreenVertically","innerHeight","selectElement","targetElement","path","offset","childNodes","nextSibling","previousSibling","getWindowSelection","setStart","setEnd","error","replaceEvent","myField","textSuffix","startPos","endPos","_textSuffix","pasteHtml","anchorNode","frag","node","lastNode","firstChild","cloneRange","setStartAfter","getNodePositionInParent","getContentEditableSelectedPath","ctx","ce","reverse","startOffset","getTextPrecedingCurrentSelection","textComponent","selectedElem","workingNodeContent","textContent","selectStartOffset","getLastWordInText","wordsArray","split","worldsCount","trim","menuAlreadyActive","isAutocomplete","selectionInfo","effectiveRange","lastWordOfEffectiveRange","mentionSelectedElement","mostRecentTriggerCharPos","idx","lastIndexWithLeadingSpace","lastIndexOf","test","currentTriggerSnippet","firstSnippetChar","leadingSpace","regex","str","reversedStr","join","cidx","len","firstChar","match","windowWidth","windowHeight","doc","documentElement","windowLeft","pageXOffset","scrollLeft","clientLeft","windowTop","pageYOffset","clientTop","menuTop","menuRight","menuBottom","menuLeft","Math","floor","ceil","getMenuDimensions","dimensions","position","flipped","properties","isFirefox","mozInnerScreenX","div","id","computed","whiteSpace","wordWrap","visibility","prop","overflowY","overflow","span","rect","menuContainerIsBody","offsetTop","borderTopWidth","fontSize","offsetLeft","borderLeftWidth","parentHeight","parentRect","scrollStillAvailable","removeChild","selectedNodePosition","markerTextChar","markerEl","markerId","Date","getTime","random","toString","substr","prevRange","reasonableBuffer","clientRect","maxScrollDisplacement","elemTop","elemBottom","maxY","targetY","TributeSearch","simpleFilter","pattern","array","opts","patternIdx","result","totalScore","currScore","compareString","caseSensitive","ch","compareChar","rendered","score","patternCache","traverse","render","cache","stringIndex","patternIndex","calculateScore","best","temp","pop","indices","reduce","prev","sort","b","compare","_Tribute","predicate","list","thisArg","params","bubbles","cancelable","evt","createEvent","initCustomEvent","Event"],"sources":["/home/nico/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/decidim-core-0.27.3/app/packs/src/decidim/vendor/tribute.js"],"sourcesContent":["/* eslint-disable */\n\n/*\n  Modified file from the original tribute.js\n  Adding inside click event the conditional if the li element has no disabled-tribute-element class name. if true, then it must continue with normal behaviour.\n*/\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Tribute = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nrequire(\"./utils\");\n\nvar _TributeEvents = _interopRequireDefault(require(\"./TributeEvents\"));\n\nvar _TributeMenuEvents = _interopRequireDefault(require(\"./TributeMenuEvents\"));\n\nvar _TributeRange = _interopRequireDefault(require(\"./TributeRange\"));\n\nvar _TributeSearch = _interopRequireDefault(require(\"./TributeSearch\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Tribute =\n/*#__PURE__*/\nfunction () {\n  function Tribute(_ref) {\n    var _this = this;\n\n    var _ref$values = _ref.values,\n        values = _ref$values === void 0 ? null : _ref$values,\n        _ref$iframe = _ref.iframe,\n        iframe = _ref$iframe === void 0 ? null : _ref$iframe,\n        _ref$selectClass = _ref.selectClass,\n        selectClass = _ref$selectClass === void 0 ? 'highlight' : _ref$selectClass,\n        _ref$trigger = _ref.trigger,\n        trigger = _ref$trigger === void 0 ? '@' : _ref$trigger,\n        _ref$autocompleteMode = _ref.autocompleteMode,\n        autocompleteMode = _ref$autocompleteMode === void 0 ? false : _ref$autocompleteMode,\n        _ref$selectTemplate = _ref.selectTemplate,\n        selectTemplate = _ref$selectTemplate === void 0 ? null : _ref$selectTemplate,\n        _ref$menuItemTemplate = _ref.menuItemTemplate,\n        menuItemTemplate = _ref$menuItemTemplate === void 0 ? null : _ref$menuItemTemplate,\n        _ref$lookup = _ref.lookup,\n        lookup = _ref$lookup === void 0 ? 'key' : _ref$lookup,\n        _ref$fillAttr = _ref.fillAttr,\n        fillAttr = _ref$fillAttr === void 0 ? 'value' : _ref$fillAttr,\n        _ref$collection = _ref.collection,\n        collection = _ref$collection === void 0 ? null : _ref$collection,\n        _ref$menuContainer = _ref.menuContainer,\n        menuContainer = _ref$menuContainer === void 0 ? null : _ref$menuContainer,\n        _ref$noMatchTemplate = _ref.noMatchTemplate,\n        noMatchTemplate = _ref$noMatchTemplate === void 0 ? null : _ref$noMatchTemplate,\n        _ref$requireLeadingSp = _ref.requireLeadingSpace,\n        requireLeadingSpace = _ref$requireLeadingSp === void 0 ? true : _ref$requireLeadingSp,\n        _ref$allowSpaces = _ref.allowSpaces,\n        allowSpaces = _ref$allowSpaces === void 0 ? false : _ref$allowSpaces,\n        _ref$replaceTextSuffi = _ref.replaceTextSuffix,\n        replaceTextSuffix = _ref$replaceTextSuffi === void 0 ? null : _ref$replaceTextSuffi,\n        _ref$positionMenu = _ref.positionMenu,\n        positionMenu = _ref$positionMenu === void 0 ? true : _ref$positionMenu,\n        _ref$spaceSelectsMatc = _ref.spaceSelectsMatch,\n        spaceSelectsMatch = _ref$spaceSelectsMatc === void 0 ? false : _ref$spaceSelectsMatc,\n        _ref$searchOpts = _ref.searchOpts,\n        searchOpts = _ref$searchOpts === void 0 ? {} : _ref$searchOpts,\n        _ref$menuItemLimit = _ref.menuItemLimit,\n        menuItemLimit = _ref$menuItemLimit === void 0 ? null : _ref$menuItemLimit;\n\n    _classCallCheck(this, Tribute);\n\n    this.autocompleteMode = autocompleteMode;\n    this.menuSelected = 0;\n    this.current = {};\n    this.inputEvent = false;\n    this.isActive = false;\n    this.menuContainer = menuContainer;\n    this.allowSpaces = allowSpaces;\n    this.replaceTextSuffix = replaceTextSuffix;\n    this.positionMenu = positionMenu;\n    this.hasTrailingSpace = false;\n    this.spaceSelectsMatch = spaceSelectsMatch;\n\n    if (this.autocompleteMode) {\n      trigger = '';\n      allowSpaces = false;\n    }\n\n    if (values) {\n      this.collection = [{\n        // symbol that starts the lookup\n        trigger: trigger,\n        // is it wrapped in an iframe\n        iframe: iframe,\n        // class applied to selected item\n        selectClass: selectClass,\n        // function called on select that retuns the content to insert\n        selectTemplate: (selectTemplate || Tribute.defaultSelectTemplate).bind(this),\n        // function called that returns content for an item\n        menuItemTemplate: (menuItemTemplate || Tribute.defaultMenuItemTemplate).bind(this),\n        // function called when menu is empty, disables hiding of menu.\n        noMatchTemplate: function (t) {\n          if (typeof t === 'function') {\n            return t.bind(_this);\n          }\n\n          return noMatchTemplate || function () {\n            return '';\n          }.bind(_this);\n        }(noMatchTemplate),\n        // column to search against in the object\n        lookup: lookup,\n        // column that contains the content to insert by default\n        fillAttr: fillAttr,\n        // array of objects or a function returning an array of objects\n        values: values,\n        requireLeadingSpace: requireLeadingSpace,\n        searchOpts: searchOpts,\n        menuItemLimit: menuItemLimit\n      }];\n    } else if (collection) {\n      if (this.autocompleteMode) console.warn('Tribute in autocomplete mode does not work for collections');\n      this.collection = collection.map(function (item) {\n        return {\n          trigger: item.trigger || trigger,\n          iframe: item.iframe || iframe,\n          selectClass: item.selectClass || selectClass,\n          selectTemplate: (item.selectTemplate || Tribute.defaultSelectTemplate).bind(_this),\n          menuItemTemplate: (item.menuItemTemplate || Tribute.defaultMenuItemTemplate).bind(_this),\n          // function called when menu is empty, disables hiding of menu.\n          noMatchTemplate: function (t) {\n            if (typeof t === 'function') {\n              return t.bind(_this);\n            }\n\n            return null;\n          }(noMatchTemplate),\n          lookup: item.lookup || lookup,\n          fillAttr: item.fillAttr || fillAttr,\n          values: item.values,\n          requireLeadingSpace: item.requireLeadingSpace,\n          searchOpts: item.searchOpts || searchOpts,\n          menuItemLimit: item.menuItemLimit || menuItemLimit\n        };\n      });\n    } else {\n      throw new Error('[Tribute] No collection specified.');\n    }\n\n    new _TributeRange[\"default\"](this);\n    new _TributeEvents[\"default\"](this);\n    new _TributeMenuEvents[\"default\"](this);\n    new _TributeSearch[\"default\"](this);\n  }\n\n  _createClass(Tribute, [{\n    key: \"triggers\",\n    value: function triggers() {\n      return this.collection.map(function (config) {\n        return config.trigger;\n      });\n    }\n  }, {\n    key: \"attach\",\n    value: function attach(el) {\n      if (!el) {\n        throw new Error('[Tribute] Must pass in a DOM node or NodeList.');\n      } // Check if it is a jQuery collection\n\n\n      if (typeof jQuery !== 'undefined' && el instanceof jQuery) {\n        el = el.get();\n      } // Is el an Array/Array-like object?\n\n\n      if (el.constructor === NodeList || el.constructor === HTMLCollection || el.constructor === Array) {\n        var length = el.length;\n\n        for (var i = 0; i < length; ++i) {\n          this._attach(el[i]);\n        }\n      } else {\n        this._attach(el);\n      }\n    }\n  }, {\n    key: \"_attach\",\n    value: function _attach(el) {\n      if (el.hasAttribute('data-tribute')) {\n        console.warn('Tribute was already bound to ' + el.nodeName);\n      }\n\n      this.ensureEditable(el);\n      this.events.bind(el);\n      el.setAttribute('data-tribute', true);\n    }\n  }, {\n    key: \"ensureEditable\",\n    value: function ensureEditable(element) {\n      if (Tribute.inputTypes().indexOf(element.nodeName) === -1) {\n        if (element.contentEditable) {\n          element.contentEditable = true;\n        } else {\n          throw new Error('[Tribute] Cannot bind to ' + element.nodeName);\n        }\n      }\n    }\n  }, {\n    key: \"createMenu\",\n    value: function createMenu() {\n      var wrapper = this.range.getDocument().createElement('div'),\n          ul = this.range.getDocument().createElement('ul');\n      wrapper.className = 'tribute-container';\n      wrapper.setAttribute('aria-expanded','true');\n      ul.setAttribute('id','results');\n      wrapper.appendChild(ul);\n\n      if (this.menuContainer) {\n        return this.menuContainer.appendChild(wrapper);\n      }\n\n      return this.range.getDocument().body.appendChild(wrapper);\n    }\n  }, {\n    key: \"showMenuFor\",\n    value: function showMenuFor(element, scrollTo) {\n      var _this2 = this;\n\n      // Only proceed if menu isn't already shown for the current element & mentionText\n      if (this.isActive && this.current.element === element && this.current.mentionText === this.currentMentionTextSnapshot) {\n        return;\n      }\n\n      this.currentMentionTextSnapshot = this.current.mentionText; // create the menu if it doesn't exist.\n\n      if (!this.menu) {\n        this.menu = this.createMenu();\n        element.tributeMenu = this.menu;\n        this.menuEvents.bind(this.menu);\n      }\n\n      this.isActive = true;\n      this.menuSelected = 0;\n\n      if (!this.current.mentionText) {\n        this.current.mentionText = '';\n      }\n\n      var processValues = function processValues(values) {\n        // Tribute may not be active any more by the time the value callback returns\n        if (!_this2.isActive) {\n          return;\n        }\n\n        var items = _this2.search.filter(_this2.current.mentionText, values, {\n          pre: _this2.current.collection.searchOpts.pre || '<span>',\n          post: _this2.current.collection.searchOpts.post || '</span>',\n          skip: _this2.current.collection.searchOpts.skip,\n          extract: function extract(el) {\n            if (typeof _this2.current.collection.lookup === 'string') {\n              return el[_this2.current.collection.lookup];\n            } else if (typeof _this2.current.collection.lookup === 'function') {\n              return _this2.current.collection.lookup(el, _this2.current.mentionText);\n            } else {\n              throw new Error('Invalid lookup attribute, lookup must be string or function.');\n            }\n          }\n        });\n\n        if (_this2.current.collection.menuItemLimit) {\n          items = items.slice(0, _this2.current.collection.menuItemLimit);\n        }\n\n        _this2.current.filteredItems = items;\n\n        var ul = _this2.menu.querySelector('ul');\n\n        _this2.range.positionMenuAtCaret(scrollTo);\n\n        if (!items.length) {\n          var noMatchEvent = new CustomEvent('tribute-no-match', {\n            detail: _this2.menu\n          });\n\n          _this2.current.element.dispatchEvent(noMatchEvent);\n\n          if (typeof _this2.current.collection.noMatchTemplate === 'function' && !_this2.current.collection.noMatchTemplate() || !_this2.current.collection.noMatchTemplate) {\n            _this2.hideMenu();\n          } else {\n            typeof _this2.current.collection.noMatchTemplate === 'function' ? ul.innerHTML = _this2.current.collection.noMatchTemplate() : ul.innerHTML = _this2.current.collection.noMatchTemplate;\n          }\n\n          return;\n        }\n\n        ul.innerHTML = '';\n\n        var fragment = _this2.range.getDocument().createDocumentFragment();\n\n        items.forEach(function (item, index) {\n          var li = _this2.range.getDocument().createElement('li');\n          li.setAttribute('role', 'option');\n          li.setAttribute('data-index', index);\n          li.addEventListener('mousemove', function (e) {\n            var _this2$_findLiTarget = _this2._findLiTarget(e.target),\n                _this2$_findLiTarget2 = _slicedToArray(_this2$_findLiTarget, 2),\n                li = _this2$_findLiTarget2[0],\n                index = _this2$_findLiTarget2[1];\n\n            if (e.movementY !== 0) {\n              _this2.events.setActiveLi(index);\n            }\n          });\n\n          if (_this2.menuSelected === index) {\n            li.className = _this2.current.collection.selectClass;\n          }\n\n          li.innerHTML = _this2.current.collection.menuItemTemplate(item);\n          fragment.appendChild(li);\n        });\n        ul.appendChild(fragment);\n      };\n\n      if (typeof this.current.collection.values === 'function') {\n        this.current.collection.values(this.current.mentionText, processValues);\n      } else {\n        processValues(this.current.collection.values);\n      }\n    }\n  }, {\n    key: \"_findLiTarget\",\n    value: function _findLiTarget(el) {\n      if (!el) return [];\n      var index = el.getAttribute('data-index');\n      return !index ? this._findLiTarget(el.parentNode) : [el, index];\n    }\n  }, {\n    key: \"showMenuForCollection\",\n    value: function showMenuForCollection(element, collectionIndex) {\n      if (element !== document.activeElement) {\n        this.placeCaretAtEnd(element);\n      }\n\n      this.current.collection = this.collection[collectionIndex || 0];\n      this.current.externalTrigger = true;\n      this.current.element = element;\n      if (element.isContentEditable) this.insertTextAtCursor(this.current.collection.trigger);else this.insertAtCaret(element, this.current.collection.trigger);\n      this.showMenuFor(element);\n    } // TODO: make sure this works for inputs/textareas\n\n  }, {\n    key: \"placeCaretAtEnd\",\n    value: function placeCaretAtEnd(el) {\n      el.focus();\n\n      if (typeof window.getSelection != \"undefined\" && typeof document.createRange != \"undefined\") {\n        var range = document.createRange();\n        range.selectNodeContents(el);\n        range.collapse(false);\n        var sel = window.getSelection();\n        sel.removeAllRanges();\n        sel.addRange(range);\n      } else if (typeof document.body.createTextRange != \"undefined\") {\n        var textRange = document.body.createTextRange();\n        textRange.moveToElementText(el);\n        textRange.collapse(false);\n        textRange.select();\n      }\n    } // for contenteditable\n\n  }, {\n    key: \"insertTextAtCursor\",\n    value: function insertTextAtCursor(text) {\n      var sel, range, html;\n      sel = window.getSelection();\n      range = sel.getRangeAt(0);\n      range.deleteContents();\n      var textNode = document.createTextNode(text);\n      range.insertNode(textNode);\n      range.selectNodeContents(textNode);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n    } // for regular inputs\n\n  }, {\n    key: \"insertAtCaret\",\n    value: function insertAtCaret(textarea, text) {\n      var scrollPos = textarea.scrollTop;\n      var caretPos = textarea.selectionStart;\n      var front = textarea.value.substring(0, caretPos);\n      var back = textarea.value.substring(textarea.selectionEnd, textarea.value.length);\n      textarea.value = front + text + back;\n      caretPos = caretPos + text.length;\n      textarea.selectionStart = caretPos;\n      textarea.selectionEnd = caretPos;\n      textarea.focus();\n      textarea.scrollTop = scrollPos;\n    }\n  }, {\n    key: \"hideMenu\",\n    value: function hideMenu() {\n      if (this.menu) {\n        this.menu.style.cssText = 'display: none;';\n        this.isActive = false;\n        this.menuSelected = 0;\n        this.current = {};\n      }\n    }\n  }, {\n    key: \"selectItemAtIndex\",\n    value: function selectItemAtIndex(index, originalEvent) {\n      index = parseInt(index);\n      if (typeof index !== 'number' || isNaN(index)) return;\n      var item = this.current.filteredItems[index];\n      var content = this.current.collection.selectTemplate(item);\n      if (content !== null) this.replaceText(content, originalEvent, item);\n    }\n  }, {\n    key: \"replaceText\",\n    value: function replaceText(content, originalEvent, item) {\n      this.range.replaceTriggerText(content, true, true, originalEvent, item);\n    }\n  }, {\n    key: \"_append\",\n    value: function _append(collection, newValues, replace) {\n      if (typeof collection.values === 'function') {\n        throw new Error('Unable to append to values, as it is a function.');\n      } else if (!replace) {\n        collection.values = collection.values.concat(newValues);\n      } else {\n        collection.values = newValues;\n      }\n    }\n  }, {\n    key: \"append\",\n    value: function append(collectionIndex, newValues, replace) {\n      var index = parseInt(collectionIndex);\n      if (typeof index !== 'number') throw new Error('please provide an index for the collection to update.');\n      var collection = this.collection[index];\n\n      this._append(collection, newValues, replace);\n    }\n  }, {\n    key: \"appendCurrent\",\n    value: function appendCurrent(newValues, replace) {\n      if (this.isActive) {\n        this._append(this.current.collection, newValues, replace);\n      } else {\n        throw new Error('No active state. Please use append instead and pass an index.');\n      }\n    }\n  }, {\n    key: \"detach\",\n    value: function detach(el) {\n      if (!el) {\n        throw new Error('[Tribute] Must pass in a DOM node or NodeList.');\n      } // Check if it is a jQuery collection\n\n\n      if (typeof jQuery !== 'undefined' && el instanceof jQuery) {\n        el = el.get();\n      } // Is el an Array/Array-like object?\n\n\n      if (el.constructor === NodeList || el.constructor === HTMLCollection || el.constructor === Array) {\n        var length = el.length;\n\n        for (var i = 0; i < length; ++i) {\n          this._detach(el[i]);\n        }\n      } else {\n        this._detach(el);\n      }\n    }\n  }, {\n    key: \"_detach\",\n    value: function _detach(el) {\n      var _this3 = this;\n\n      this.events.unbind(el);\n\n      if (el.tributeMenu) {\n        this.menuEvents.unbind(el.tributeMenu);\n      }\n\n      setTimeout(function () {\n        el.removeAttribute('data-tribute');\n        _this3.isActive = false;\n\n        if (el.tributeMenu) {\n          el.tributeMenu.remove();\n        }\n      });\n    }\n  }], [{\n    key: \"defaultSelectTemplate\",\n    value: function defaultSelectTemplate(item) {\n      if (typeof item === 'undefined') return null;\n\n      if (this.range.isContentEditable(this.current.element)) {\n        return '<span class=\"tribute-mention\">' + (this.current.collection.trigger + item.original[this.current.collection.fillAttr]) + '</span>';\n      }\n\n      return this.current.collection.trigger + item.original[this.current.collection.fillAttr];\n    }\n  }, {\n    key: \"defaultMenuItemTemplate\",\n    value: function defaultMenuItemTemplate(matchItem) {\n      return matchItem.string;\n    }\n  }, {\n    key: \"inputTypes\",\n    value: function inputTypes() {\n      return ['TEXTAREA', 'INPUT'];\n    }\n  }]);\n\n  return Tribute;\n}();\n\nvar _default = Tribute;\nexports[\"default\"] = _default;\nmodule.exports = exports.default;\n\n},{\"./TributeEvents\":2,\"./TributeMenuEvents\":3,\"./TributeRange\":4,\"./TributeSearch\":5,\"./utils\":7}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar TributeEvents =\n/*#__PURE__*/\nfunction () {\n  function TributeEvents(tribute) {\n    _classCallCheck(this, TributeEvents);\n\n    this.tribute = tribute;\n    this.tribute.events = this;\n  }\n\n  _createClass(TributeEvents, [{\n    key: \"bind\",\n    value: function bind(element) {\n      element.boundKeydown = this.keydown.bind(element, this);\n      element.boundKeyup = this.keyup.bind(element, this);\n      element.boundInput = this.input.bind(element, this);\n      element.addEventListener('keydown', element.boundKeydown, false);\n      element.addEventListener('keyup', element.boundKeyup, false);\n      element.addEventListener('input', element.boundInput, false);\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind(element) {\n      element.removeEventListener('keydown', element.boundKeydown, false);\n      element.removeEventListener('keyup', element.boundKeyup, false);\n      element.removeEventListener('input', element.boundInput, false);\n      delete element.boundKeydown;\n      delete element.boundKeyup;\n      delete element.boundInput;\n    }\n  }, {\n    key: \"keydown\",\n    value: function keydown(instance, event) {\n      if (instance.shouldDeactivate(event)) {\n        instance.tribute.isActive = false;\n        instance.tribute.hideMenu();\n      }\n\n      var element = this;\n      instance.commandEvent = false;\n      TributeEvents.keys().forEach(function (o) {\n        if (o.key === event.keyCode) {\n          instance.commandEvent = true;\n          instance.callbacks()[o.value.toLowerCase()](event, element);\n        }\n      });\n    }\n  }, {\n    key: \"input\",\n    value: function input(instance, event) {\n      instance.inputEvent = true;\n      instance.keyup.call(this, instance, event);\n    }\n  }, {\n    key: \"click\",\n    value: function click(instance, event) {\n      var tribute = instance.tribute;\n\n      if (tribute.menu && tribute.menu.contains(event.target)) {\n        var li = event.target;\n        event.preventDefault();\n        event.stopPropagation();\n\n        while (li.nodeName.toLowerCase() !== 'li') {\n          li = li.parentNode;\n\n          if (!li || li === tribute.menu) {\n            throw new Error('cannot find the <li> container for the click');\n          }\n        }\n\n        if (li.getElementsByClassName(\"disabled-tribute-element\")[0]==undefined){\n          tribute.selectItemAtIndex(li.getAttribute('data-index'), event);\n          tribute.hideMenu(); // TODO: should fire with externalTrigger and target is outside of menu\n        }\n      } else if (tribute.current.element && !tribute.current.externalTrigger) {\n        tribute.current.externalTrigger = false;\n        setTimeout(function () {\n          return tribute.hideMenu();\n        });\n      }\n    }\n  }, {\n    key: \"keyup\",\n    value: function keyup(instance, event) {\n      if (instance.inputEvent) {\n        instance.inputEvent = false;\n      }\n\n      instance.updateSelection(this);\n      if (event.keyCode === 27) return;\n\n      if (!instance.tribute.allowSpaces && instance.tribute.hasTrailingSpace) {\n        instance.tribute.hasTrailingSpace = false;\n        instance.commandEvent = true;\n        instance.callbacks()[\"space\"](event, this);\n        return;\n      }\n\n      if (!instance.tribute.isActive) {\n        if (instance.tribute.autocompleteMode) {\n          instance.callbacks().triggerChar(event, this, '');\n        } else {\n          var keyCode = instance.getKeyCode(instance, this, event);\n          if (isNaN(keyCode) || !keyCode) return;\n          var trigger = instance.tribute.triggers().find(function (trigger) {\n            return trigger.charCodeAt(0) === keyCode;\n          });\n\n          if (typeof trigger !== 'undefined') {\n            instance.callbacks().triggerChar(event, this, trigger);\n          }\n        }\n      }\n\n      if ((instance.tribute.current.trigger || instance.tribute.autocompleteMode) && instance.commandEvent === false || instance.tribute.isActive && event.keyCode === 8) {\n        instance.tribute.showMenuFor(this, true);\n      }\n    }\n  }, {\n    key: \"shouldDeactivate\",\n    value: function shouldDeactivate(event) {\n      if (!this.tribute.isActive) return false;\n\n      if (this.tribute.current.mentionText.length === 0) {\n        var eventKeyPressed = false;\n        TributeEvents.keys().forEach(function (o) {\n          if (event.keyCode === o.key) eventKeyPressed = true;\n        });\n        return !eventKeyPressed;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"getKeyCode\",\n    value: function getKeyCode(instance, el, event) {\n      var _char;\n\n      var tribute = instance.tribute;\n      var info = tribute.range.getTriggerInfo(false, tribute.hasTrailingSpace, true, tribute.allowSpaces, tribute.autocompleteMode);\n\n      if (info) {\n        return info.mentionTriggerChar.charCodeAt(0);\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"updateSelection\",\n    value: function updateSelection(el) {\n      this.tribute.current.element = el;\n      var info = this.tribute.range.getTriggerInfo(false, this.tribute.hasTrailingSpace, true, this.tribute.allowSpaces, this.tribute.autocompleteMode);\n\n      if (info) {\n        this.tribute.current.selectedPath = info.mentionSelectedPath;\n        this.tribute.current.mentionText = info.mentionText;\n        this.tribute.current.selectedOffset = info.mentionSelectedOffset;\n      }\n    }\n  }, {\n    key: \"callbacks\",\n    value: function callbacks() {\n      var _this = this;\n\n      return {\n        triggerChar: function triggerChar(e, el, trigger) {\n          var tribute = _this.tribute;\n          tribute.current.trigger = trigger;\n          var collectionItem = tribute.collection.find(function (item) {\n            return item.trigger === trigger;\n          });\n          tribute.current.collection = collectionItem;\n          if (tribute.inputEvent) tribute.showMenuFor(el, true);\n        },\n        enter: function enter(e, el) {\n          // choose selection\n          if (_this.tribute.isActive && _this.tribute.current.filteredItems) {\n            e.preventDefault();\n            e.stopPropagation();\n            setTimeout(function () {\n              _this.tribute.selectItemAtIndex(_this.tribute.menuSelected, e);\n\n              _this.tribute.hideMenu();\n            }, 0);\n          }\n        },\n        escape: function escape(e, el) {\n          if (_this.tribute.isActive) {\n            e.preventDefault();\n            e.stopPropagation();\n            _this.tribute.isActive = false;\n\n            _this.tribute.hideMenu();\n          }\n        },\n        tab: function tab(e, el) {\n          // choose first match\n          _this.callbacks().enter(e, el);\n        },\n        space: function space(e, el) {\n          if (_this.tribute.isActive) {\n            if (_this.tribute.spaceSelectsMatch) {\n              _this.callbacks().enter(e, el);\n            } else if (!_this.tribute.allowSpaces) {\n              e.stopPropagation();\n              setTimeout(function () {\n                _this.tribute.hideMenu();\n\n                _this.tribute.isActive = false;\n              }, 0);\n            }\n          }\n        },\n        up: function up(e, el) {\n          // navigate up ul\n          if (_this.tribute.isActive && _this.tribute.current.filteredItems) {\n            e.preventDefault();\n            e.stopPropagation();\n            var count = _this.tribute.current.filteredItems.length,\n                selected = _this.tribute.menuSelected;\n\n            if (count > selected && selected > 0) {\n              _this.tribute.menuSelected--;\n\n              _this.setActiveLi();\n            } else if (selected === 0) {\n              _this.tribute.menuSelected = count - 1;\n\n              _this.setActiveLi();\n\n              _this.tribute.menu.scrollTop = _this.tribute.menu.scrollHeight;\n            }\n          }\n        },\n        down: function down(e, el) {\n          // navigate down ul\n          if (_this.tribute.isActive && _this.tribute.current.filteredItems) {\n            e.preventDefault();\n            e.stopPropagation();\n            var count = _this.tribute.current.filteredItems.length - 1,\n                selected = _this.tribute.menuSelected;\n\n            if (count > selected) {\n              _this.tribute.menuSelected++;\n\n              _this.setActiveLi();\n            } else if (count === selected) {\n              _this.tribute.menuSelected = 0;\n\n              _this.setActiveLi();\n\n              _this.tribute.menu.scrollTop = 0;\n            }\n          }\n        },\n        \"delete\": function _delete(e, el) {\n          if (_this.tribute.isActive && _this.tribute.current.mentionText.length < 1) {\n            _this.tribute.hideMenu();\n          } else if (_this.tribute.isActive) {\n            _this.tribute.showMenuFor(el);\n          }\n        }\n      };\n    }\n  }, {\n    key: \"setActiveLi\",\n    value: function setActiveLi(index) {\n      var lis = this.tribute.menu.querySelectorAll('li'),\n          length = lis.length >>> 0;\n      if (index) this.tribute.menuSelected = parseInt(index);\n\n      for (var i = 0; i < length; i++) {\n        var li = lis[i];\n\n        if (i === this.tribute.menuSelected) {\n          li.classList.add(this.tribute.current.collection.selectClass);\n          var liClientRect = li.getBoundingClientRect();\n          var menuClientRect = this.tribute.menu.getBoundingClientRect();\n\n          if (liClientRect.bottom > menuClientRect.bottom) {\n            var scrollDistance = liClientRect.bottom - menuClientRect.bottom;\n            this.tribute.menu.scrollTop += scrollDistance;\n          } else if (liClientRect.top < menuClientRect.top) {\n            var _scrollDistance = menuClientRect.top - liClientRect.top;\n\n            this.tribute.menu.scrollTop -= _scrollDistance;\n          }\n        } else {\n          li.classList.remove(this.tribute.current.collection.selectClass);\n        }\n      }\n    }\n  }, {\n    key: \"getFullHeight\",\n    value: function getFullHeight(elem, includeMargin) {\n      var height = elem.getBoundingClientRect().height;\n\n      if (includeMargin) {\n        var style = elem.currentStyle || window.getComputedStyle(elem);\n        return height + parseFloat(style.marginTop) + parseFloat(style.marginBottom);\n      }\n\n      return height;\n    }\n  }], [{\n    key: \"keys\",\n    value: function keys() {\n      return [{\n        key: 9,\n        value: 'TAB'\n      }, {\n        key: 8,\n        value: 'DELETE'\n      }, {\n        key: 13,\n        value: 'ENTER'\n      }, {\n        key: 27,\n        value: 'ESCAPE'\n      }, {\n        key: 32,\n        value: 'SPACE'\n      }, {\n        key: 38,\n        value: 'UP'\n      }, {\n        key: 40,\n        value: 'DOWN'\n      }];\n    }\n  }]);\n\n  return TributeEvents;\n}();\n\nvar _default = TributeEvents;\nexports[\"default\"] = _default;\nmodule.exports = exports.default;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar TributeMenuEvents =\n/*#__PURE__*/\nfunction () {\n  function TributeMenuEvents(tribute) {\n    _classCallCheck(this, TributeMenuEvents);\n\n    this.tribute = tribute;\n    this.tribute.menuEvents = this;\n    this.menu = this.tribute.menu;\n  }\n\n  _createClass(TributeMenuEvents, [{\n    key: \"bind\",\n    value: function bind(menu) {\n      var _this = this;\n\n      this.menuClickEvent = this.tribute.events.click.bind(null, this);\n      this.menuContainerScrollEvent = this.debounce(function () {\n        if (_this.tribute.isActive) {\n          _this.tribute.showMenuFor(_this.tribute.current.element, false);\n        }\n      }, 300, false);\n      this.windowResizeEvent = this.debounce(function () {\n        if (_this.tribute.isActive) {\n          _this.tribute.range.positionMenuAtCaret(true);\n        }\n      }, 300, false); // fixes IE11 issues with mousedown\n\n      this.tribute.range.getDocument().addEventListener('MSPointerDown', this.menuClickEvent, false);\n      this.tribute.range.getDocument().addEventListener('mousedown', this.menuClickEvent, false);\n      window.addEventListener('resize', this.windowResizeEvent);\n\n      if (this.menuContainer) {\n        this.menuContainer.addEventListener('scroll', this.menuContainerScrollEvent, false);\n      } else {\n        window.addEventListener('scroll', this.menuContainerScrollEvent);\n      }\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind(menu) {\n      this.tribute.range.getDocument().removeEventListener('mousedown', this.menuClickEvent, false);\n      this.tribute.range.getDocument().removeEventListener('MSPointerDown', this.menuClickEvent, false);\n      window.removeEventListener('resize', this.windowResizeEvent);\n\n      if (this.menuContainer) {\n        this.menuContainer.removeEventListener('scroll', this.menuContainerScrollEvent, false);\n      } else {\n        window.removeEventListener('scroll', this.menuContainerScrollEvent);\n      }\n    }\n  }, {\n    key: \"debounce\",\n    value: function debounce(func, wait, immediate) {\n      var _this2 = this,\n          _arguments = arguments;\n\n      var timeout;\n      return function () {\n        var context = _this2,\n            args = _arguments;\n\n        var later = function later() {\n          timeout = null;\n          if (!immediate) func.apply(context, args);\n        };\n\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n      };\n    }\n  }]);\n\n  return TributeMenuEvents;\n}();\n\nvar _default = TributeMenuEvents;\nexports[\"default\"] = _default;\nmodule.exports = exports.default;\n\n},{}],4:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// Thanks to https://github.com/jeff-collins/ment.io\nvar TributeRange =\n/*#__PURE__*/\nfunction () {\n  function TributeRange(tribute) {\n    _classCallCheck(this, TributeRange);\n\n    this.tribute = tribute;\n    this.tribute.range = this;\n  }\n\n  _createClass(TributeRange, [{\n    key: \"getDocument\",\n    value: function getDocument() {\n      var iframe;\n\n      if (this.tribute.current.collection) {\n        iframe = this.tribute.current.collection.iframe;\n      }\n\n      if (!iframe) {\n        return document;\n      }\n\n      return iframe.contentWindow.document;\n    }\n  }, {\n    key: \"positionMenuAtCaret\",\n    value: function positionMenuAtCaret(scrollTo) {\n      var _this = this;\n\n      var context = this.tribute.current,\n          coordinates;\n      var info = this.getTriggerInfo(false, this.tribute.hasTrailingSpace, true, this.tribute.allowSpaces, this.tribute.autocompleteMode);\n\n      if (typeof info !== 'undefined') {\n        if (!this.tribute.positionMenu) {\n          this.tribute.menu.style.cssText = \"display: block;\";\n          return;\n        }\n\n        if (!this.isContentEditable(context.element)) {\n          coordinates = this.getTextAreaOrInputUnderlinePosition(this.tribute.current.element, info.mentionPosition);\n        } else {\n          coordinates = this.getContentEditableCaretPosition(info.mentionPosition);\n        }\n\n        this.tribute.menu.style.cssText = \"top: \".concat(coordinates.top, \"px;\\n                                     left: \").concat(coordinates.left, \"px;\\n                                     right: \").concat(coordinates.right, \"px;\\n                                     bottom: \").concat(coordinates.bottom, \"px;\\n                                     position: absolute;\\n                                     display: block;\");\n\n        if (coordinates.left === 'auto') {\n          this.tribute.menu.style.left = 'auto';\n        }\n\n        if (coordinates.top === 'auto') {\n          this.tribute.menu.style.top = 'auto';\n        }\n\n        if (scrollTo) this.scrollIntoView();\n        window.setTimeout(function () {\n          var menuDimensions = {\n            width: _this.tribute.menu.offsetWidth,\n            height: _this.tribute.menu.offsetHeight\n          };\n\n          var menuIsOffScreen = _this.isMenuOffScreen(coordinates, menuDimensions);\n\n          var menuIsOffScreenHorizontally = window.innerWidth > menuDimensions.width && (menuIsOffScreen.left || menuIsOffScreen.right);\n          var menuIsOffScreenVertically = window.innerHeight > menuDimensions.height && (menuIsOffScreen.top || menuIsOffScreen.bottom);\n\n          if (menuIsOffScreenHorizontally || menuIsOffScreenVertically) {\n            _this.tribute.menu.style.cssText = 'display: none';\n\n            _this.positionMenuAtCaret(scrollTo);\n          }\n        }, 0);\n      } else {\n        this.tribute.menu.style.cssText = 'display: none';\n      }\n    }\n  }, {\n    key: \"selectElement\",\n    value: function selectElement(targetElement, path, offset) {\n      var range;\n      var elem = targetElement;\n\n      if (path) {\n        for (var i = 0; i < path.length; i++) {\n          elem = elem.childNodes[path[i]];\n\n          if (elem === undefined) {\n            return;\n          }\n\n          while (elem.length < offset) {\n            offset -= elem.length;\n            elem = elem.nextSibling;\n          }\n\n          if (elem.childNodes.length === 0 && !elem.length) {\n            elem = elem.previousSibling;\n          }\n        }\n      }\n\n      var sel = this.getWindowSelection();\n      range = this.getDocument().createRange();\n      range.setStart(elem, offset);\n      range.setEnd(elem, offset);\n      range.collapse(true);\n\n      try {\n        sel.removeAllRanges();\n      } catch (error) {}\n\n      sel.addRange(range);\n      targetElement.focus();\n    }\n  }, {\n    key: \"replaceTriggerText\",\n    value: function replaceTriggerText(text, requireLeadingSpace, hasTrailingSpace, originalEvent, item) {\n      var info = this.getTriggerInfo(true, hasTrailingSpace, requireLeadingSpace, this.tribute.allowSpaces, this.tribute.autocompleteMode);\n\n      if (info !== undefined) {\n        var context = this.tribute.current;\n        var replaceEvent = new CustomEvent('tribute-replaced', {\n          detail: {\n            item: item,\n            instance: context,\n            context: info,\n            event: originalEvent\n          }\n        });\n\n        if (!this.isContentEditable(context.element)) {\n          var myField = this.tribute.current.element;\n          var textSuffix = typeof this.tribute.replaceTextSuffix == 'string' ? this.tribute.replaceTextSuffix : ' ';\n          text += textSuffix;\n          var startPos = info.mentionPosition;\n          var endPos = info.mentionPosition + info.mentionText.length + textSuffix.length;\n          myField.value = myField.value.substring(0, startPos) + text + myField.value.substring(endPos, myField.value.length);\n          myField.selectionStart = startPos + text.length;\n          myField.selectionEnd = startPos + text.length;\n        } else {\n          // add a space to the end of the pasted text\n          var _textSuffix = typeof this.tribute.replaceTextSuffix == 'string' ? this.tribute.replaceTextSuffix : '\\xA0';\n\n          text += _textSuffix;\n          this.pasteHtml(text, info.mentionPosition, info.mentionPosition + info.mentionText.length + !this.tribute.autocompleteMode);\n        }\n\n        context.element.dispatchEvent(replaceEvent);\n      }\n    }\n  }, {\n    key: \"pasteHtml\",\n    value: function pasteHtml(html, startPos, endPos) {\n      var range, sel;\n      sel = this.getWindowSelection();\n      range = this.getDocument().createRange();\n      range.setStart(sel.anchorNode, startPos);\n      range.setEnd(sel.anchorNode, endPos);\n      range.deleteContents();\n      var el = this.getDocument().createElement('div');\n      el.innerHTML = html;\n      var frag = this.getDocument().createDocumentFragment(),\n          node,\n          lastNode;\n\n      while (node = el.firstChild) {\n        lastNode = frag.appendChild(node);\n      }\n\n      range.insertNode(frag); // Preserve the selection\n\n      if (lastNode) {\n        range = range.cloneRange();\n        range.setStartAfter(lastNode);\n        range.collapse(true);\n        sel.removeAllRanges();\n        sel.addRange(range);\n      }\n    }\n  }, {\n    key: \"getWindowSelection\",\n    value: function getWindowSelection() {\n      if (this.tribute.collection.iframe) {\n        return this.tribute.collection.iframe.contentWindow.getSelection();\n      }\n\n      return window.getSelection();\n    }\n  }, {\n    key: \"getNodePositionInParent\",\n    value: function getNodePositionInParent(element) {\n      if (element.parentNode === null) {\n        return 0;\n      }\n\n      for (var i = 0; i < element.parentNode.childNodes.length; i++) {\n        var node = element.parentNode.childNodes[i];\n\n        if (node === element) {\n          return i;\n        }\n      }\n    }\n  }, {\n    key: \"getContentEditableSelectedPath\",\n    value: function getContentEditableSelectedPath(ctx) {\n      var sel = this.getWindowSelection();\n      var selected = sel.anchorNode;\n      var path = [];\n      var offset;\n\n      if (selected != null) {\n        var i;\n        var ce = selected.contentEditable;\n\n        while (selected !== null && ce !== 'true') {\n          i = this.getNodePositionInParent(selected);\n          path.push(i);\n          selected = selected.parentNode;\n\n          if (selected !== null) {\n            ce = selected.contentEditable;\n          }\n        }\n\n        path.reverse(); // getRangeAt may not exist, need alternative\n\n        offset = sel.getRangeAt(0).startOffset;\n        return {\n          selected: selected,\n          path: path,\n          offset: offset\n        };\n      }\n    }\n  }, {\n    key: \"getTextPrecedingCurrentSelection\",\n    value: function getTextPrecedingCurrentSelection() {\n      var context = this.tribute.current,\n          text = '';\n\n      if (!this.isContentEditable(context.element)) {\n        var textComponent = this.tribute.current.element;\n\n        if (textComponent) {\n          var startPos = textComponent.selectionStart;\n\n          if (textComponent.value && startPos >= 0) {\n            text = textComponent.value.substring(0, startPos);\n          }\n        }\n      } else {\n        var selectedElem = this.getWindowSelection().anchorNode;\n\n        if (selectedElem != null) {\n          var workingNodeContent = selectedElem.textContent;\n          var selectStartOffset = this.getWindowSelection().getRangeAt(0).startOffset;\n\n          if (workingNodeContent && selectStartOffset >= 0) {\n            text = workingNodeContent.substring(0, selectStartOffset);\n          }\n        }\n      }\n\n      return text;\n    }\n  }, {\n    key: \"getLastWordInText\",\n    value: function getLastWordInText(text) {\n      text = text.replace(/\\u00A0/g, ' '); // https://stackoverflow.com/questions/29850407/how-do-i-replace-unicode-character-u00a0-with-a-space-in-javascript\n\n      var wordsArray = text.split(/\\s+/);\n      var worldsCount = wordsArray.length - 1;\n      return wordsArray[worldsCount].trim();\n    }\n  }, {\n    key: \"getTriggerInfo\",\n    value: function getTriggerInfo(menuAlreadyActive, hasTrailingSpace, requireLeadingSpace, allowSpaces, isAutocomplete) {\n      var _this2 = this;\n\n      var ctx = this.tribute.current;\n      var selected, path, offset;\n\n      if (!this.isContentEditable(ctx.element)) {\n        selected = this.tribute.current.element;\n      } else {\n        var selectionInfo = this.getContentEditableSelectedPath(ctx);\n\n        if (selectionInfo) {\n          selected = selectionInfo.selected;\n          path = selectionInfo.path;\n          offset = selectionInfo.offset;\n        }\n      }\n\n      var effectiveRange = this.getTextPrecedingCurrentSelection();\n      var lastWordOfEffectiveRange = this.getLastWordInText(effectiveRange);\n\n      if (isAutocomplete) {\n        return {\n          mentionPosition: effectiveRange.length - lastWordOfEffectiveRange.length,\n          mentionText: lastWordOfEffectiveRange,\n          mentionSelectedElement: selected,\n          mentionSelectedPath: path,\n          mentionSelectedOffset: offset\n        };\n      }\n\n      if (effectiveRange !== undefined && effectiveRange !== null) {\n        var mostRecentTriggerCharPos = -1;\n        var triggerChar;\n        this.tribute.collection.forEach(function (config) {\n          var c = config.trigger;\n          var idx = config.requireLeadingSpace ? _this2.lastIndexWithLeadingSpace(effectiveRange, c) : effectiveRange.lastIndexOf(c);\n\n          if (idx > mostRecentTriggerCharPos) {\n            mostRecentTriggerCharPos = idx;\n            triggerChar = c;\n            requireLeadingSpace = config.requireLeadingSpace;\n          }\n        });\n\n        if (mostRecentTriggerCharPos >= 0 && (mostRecentTriggerCharPos === 0 || !requireLeadingSpace || /[\\xA0\\s]/g.test(effectiveRange.substring(mostRecentTriggerCharPos - 1, mostRecentTriggerCharPos)))) {\n          var currentTriggerSnippet = effectiveRange.substring(mostRecentTriggerCharPos + 1, effectiveRange.length);\n          triggerChar = effectiveRange.substring(mostRecentTriggerCharPos, mostRecentTriggerCharPos + 1);\n          var firstSnippetChar = currentTriggerSnippet.substring(0, 1);\n          var leadingSpace = currentTriggerSnippet.length > 0 && (firstSnippetChar === ' ' || firstSnippetChar === '\\xA0');\n\n          if (hasTrailingSpace) {\n            currentTriggerSnippet = currentTriggerSnippet.trim();\n          }\n\n          var regex = allowSpaces ? /[^\\S ]/g : /[\\xA0\\s]/g;\n          this.tribute.hasTrailingSpace = regex.test(currentTriggerSnippet);\n\n          if (!leadingSpace && (menuAlreadyActive || !regex.test(currentTriggerSnippet))) {\n            return {\n              mentionPosition: mostRecentTriggerCharPos,\n              mentionText: currentTriggerSnippet,\n              mentionSelectedElement: selected,\n              mentionSelectedPath: path,\n              mentionSelectedOffset: offset,\n              mentionTriggerChar: triggerChar\n            };\n          }\n        }\n      }\n    }\n  }, {\n    key: \"lastIndexWithLeadingSpace\",\n    value: function lastIndexWithLeadingSpace(str, _char) {\n      var reversedStr = str.split('').reverse().join('');\n      var index = -1;\n\n      for (var cidx = 0, len = str.length; cidx < len; cidx++) {\n        var firstChar = cidx === str.length - 1;\n        var leadingSpace = /\\s/.test(reversedStr[cidx + 1]);\n        var match = _char === reversedStr[cidx];\n\n        if (match && (firstChar || leadingSpace)) {\n          index = str.length - 1 - cidx;\n          break;\n        }\n      }\n\n      return index;\n    }\n  }, {\n    key: \"isContentEditable\",\n    value: function isContentEditable(element) {\n      return element.nodeName !== 'INPUT' && element.nodeName !== 'TEXTAREA';\n    }\n  }, {\n    key: \"isMenuOffScreen\",\n    value: function isMenuOffScreen(coordinates, menuDimensions) {\n      var windowWidth = window.innerWidth;\n      var windowHeight = window.innerHeight;\n      var doc = document.documentElement;\n      var windowLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n      var windowTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n      var menuTop = typeof coordinates.top === 'number' ? coordinates.top : windowTop + windowHeight - coordinates.bottom - menuDimensions.height;\n      var menuRight = typeof coordinates.right === 'number' ? coordinates.right : coordinates.left + menuDimensions.width;\n      var menuBottom = typeof coordinates.bottom === 'number' ? coordinates.bottom : coordinates.top + menuDimensions.height;\n      var menuLeft = typeof coordinates.left === 'number' ? coordinates.left : windowLeft + windowWidth - coordinates.right - menuDimensions.width;\n      return {\n        top: menuTop < Math.floor(windowTop),\n        right: menuRight > Math.ceil(windowLeft + windowWidth),\n        bottom: menuBottom > Math.ceil(windowTop + windowHeight),\n        left: menuLeft < Math.floor(windowLeft)\n      };\n    }\n  }, {\n    key: \"getMenuDimensions\",\n    value: function getMenuDimensions() {\n      // Width of the menu depends of its contents and position\n      // We must check what its width would be without any obstruction\n      // This way, we can achieve good positioning for flipping the menu\n      var dimensions = {\n        width: null,\n        height: null\n      };\n      this.tribute.menu.style.cssText = \"top: 0px;\\n                                 left: 0px;\\n                                 position: fixed;\\n                                 display: block;\\n                                 visibility; hidden;\";\n      dimensions.width = this.tribute.menu.offsetWidth;\n      dimensions.height = this.tribute.menu.offsetHeight;\n      this.tribute.menu.style.cssText = \"display: none;\";\n      return dimensions;\n    }\n  }, {\n    key: \"getTextAreaOrInputUnderlinePosition\",\n    value: function getTextAreaOrInputUnderlinePosition(element, position, flipped) {\n      var properties = ['direction', 'boxSizing', 'width', 'height', 'overflowX', 'overflowY', 'borderTopWidth', 'borderRightWidth', 'borderBottomWidth', 'borderLeftWidth', 'paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft', 'fontStyle', 'fontVariant', 'fontWeight', 'fontStretch', 'fontSize', 'fontSizeAdjust', 'lineHeight', 'fontFamily', 'textAlign', 'textTransform', 'textIndent', 'textDecoration', 'letterSpacing', 'wordSpacing'];\n      var isFirefox = window.mozInnerScreenX !== null;\n      var div = this.getDocument().createElement('div');\n      div.id = 'input-textarea-caret-position-mirror-div';\n      this.getDocument().body.appendChild(div);\n      var style = div.style;\n      var computed = window.getComputedStyle ? getComputedStyle(element) : element.currentStyle;\n      style.whiteSpace = 'pre-wrap';\n\n      if (element.nodeName !== 'INPUT') {\n        style.wordWrap = 'break-word';\n      } // position off-screen\n\n\n      style.position = 'absolute';\n      style.visibility = 'hidden'; // transfer the element's properties to the div\n\n      properties.forEach(function (prop) {\n        style[prop] = computed[prop];\n      });\n\n      if (isFirefox) {\n        style.width = \"\".concat(parseInt(computed.width) - 2, \"px\");\n        if (element.scrollHeight > parseInt(computed.height)) style.overflowY = 'scroll';\n      } else {\n        style.overflow = 'hidden';\n      }\n\n      div.textContent = element.value.substring(0, position);\n\n      if (element.nodeName === 'INPUT') {\n        div.textContent = div.textContent.replace(/\\s/g, ' ');\n      }\n\n      var span = this.getDocument().createElement('span');\n      span.textContent = element.value.substring(position) || '.';\n      div.appendChild(span);\n      var rect = element.getBoundingClientRect();\n      var doc = document.documentElement;\n      var windowLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n      var windowTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n      var top = 0;\n      var left = 0;\n\n      if (this.menuContainerIsBody) {\n        top = rect.top;\n        left = rect.left;\n      }\n\n      var coordinates = {\n        top: top + windowTop + span.offsetTop + parseInt(computed.borderTopWidth) + parseInt(computed.fontSize) - element.scrollTop,\n        left: left + windowLeft + span.offsetLeft + parseInt(computed.borderLeftWidth)\n      };\n      var windowWidth = window.innerWidth;\n      var windowHeight = window.innerHeight;\n      var menuDimensions = this.getMenuDimensions();\n      var menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions);\n\n      if (menuIsOffScreen.right) {\n        coordinates.right = windowWidth - coordinates.left;\n        coordinates.left = 'auto';\n      }\n\n      var parentHeight = this.tribute.menuContainer ? this.tribute.menuContainer.offsetHeight : this.getDocument().body.offsetHeight;\n\n      if (menuIsOffScreen.bottom) {\n        var parentRect = this.tribute.menuContainer ? this.tribute.menuContainer.getBoundingClientRect() : this.getDocument().body.getBoundingClientRect();\n        var scrollStillAvailable = parentHeight - (windowHeight - parentRect.top);\n        coordinates.bottom = scrollStillAvailable + (windowHeight - rect.top - span.offsetTop);\n        coordinates.top = 'auto';\n      }\n\n      menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions);\n\n      if (menuIsOffScreen.left) {\n        coordinates.left = windowWidth > menuDimensions.width ? windowLeft + windowWidth - menuDimensions.width : windowLeft;\n        delete coordinates.right;\n      }\n\n      if (menuIsOffScreen.top) {\n        coordinates.top = windowHeight > menuDimensions.height ? windowTop + windowHeight - menuDimensions.height : windowTop;\n        delete coordinates.bottom;\n      }\n\n      this.getDocument().body.removeChild(div);\n      return coordinates;\n    }\n  }, {\n    key: \"getContentEditableCaretPosition\",\n    value: function getContentEditableCaretPosition(selectedNodePosition) {\n      var markerTextChar = '﻿';\n      var markerEl,\n          markerId = \"sel_\".concat(new Date().getTime(), \"_\").concat(Math.random().toString().substr(2));\n      var range;\n      var sel = this.getWindowSelection();\n      var prevRange = sel.getRangeAt(0);\n      range = this.getDocument().createRange();\n      range.setStart(sel.anchorNode, selectedNodePosition);\n      range.setEnd(sel.anchorNode, selectedNodePosition);\n      range.collapse(false); // Create the marker element containing a single invisible character using DOM methods and insert it\n\n      markerEl = this.getDocument().createElement('span');\n      markerEl.id = markerId;\n      markerEl.appendChild(this.getDocument().createTextNode(markerTextChar));\n      range.insertNode(markerEl);\n      sel.removeAllRanges();\n      sel.addRange(prevRange);\n      var rect = markerEl.getBoundingClientRect();\n      var doc = document.documentElement;\n      var windowLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n      var windowTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n      var left = 0;\n      var top = 0;\n\n      if (this.menuContainerIsBody) {\n        left = rect.left;\n        top = rect.top;\n      } else {\n        left = markerEl.offsetLeft;\n        top = markerEl.offsetTop;\n      }\n\n      var coordinates = {\n        left: left + windowLeft,\n        top: top + markerEl.offsetHeight + windowTop\n      };\n      var windowWidth = window.innerWidth;\n      var windowHeight = window.innerHeight;\n      var menuDimensions = this.getMenuDimensions();\n      var menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions);\n\n      if (menuIsOffScreen.right) {\n        coordinates.left = 'auto';\n        coordinates.right = windowWidth - rect.left - windowLeft;\n      }\n\n      var parentHeight = this.tribute.menuContainer ? this.tribute.menuContainer.offsetHeight : this.getDocument().body.offsetHeight;\n\n      if (menuIsOffScreen.bottom) {\n        var parentRect = this.tribute.menuContainer ? this.tribute.menuContainer.getBoundingClientRect() : this.getDocument().body.getBoundingClientRect();\n        var scrollStillAvailable = parentHeight - (windowHeight - parentRect.top);\n        coordinates.top = 'auto';\n        coordinates.bottom = scrollStillAvailable + (windowHeight - rect.top);\n      }\n\n      menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions);\n\n      if (menuIsOffScreen.left) {\n        coordinates.left = windowWidth > menuDimensions.width ? windowLeft + windowWidth - menuDimensions.width : windowLeft;\n        delete coordinates.right;\n      }\n\n      if (menuIsOffScreen.top) {\n        coordinates.top = windowHeight > menuDimensions.height ? windowTop + windowHeight - menuDimensions.height : windowTop;\n        delete coordinates.bottom;\n      }\n\n      markerEl.parentNode.removeChild(markerEl);\n      return coordinates;\n    }\n  }, {\n    key: \"scrollIntoView\",\n    value: function scrollIntoView(elem) {\n      var reasonableBuffer = 20,\n          clientRect;\n      var maxScrollDisplacement = 100;\n      var e = this.menu;\n      if (typeof e === 'undefined') return;\n\n      while (clientRect === undefined || clientRect.height === 0) {\n        clientRect = e.getBoundingClientRect();\n\n        if (clientRect.height === 0) {\n          e = e.childNodes[0];\n\n          if (e === undefined || !e.getBoundingClientRect) {\n            return;\n          }\n        }\n      }\n\n      var elemTop = clientRect.top;\n      var elemBottom = elemTop + clientRect.height;\n\n      if (elemTop < 0) {\n        window.scrollTo(0, window.pageYOffset + clientRect.top - reasonableBuffer);\n      } else if (elemBottom > window.innerHeight) {\n        var maxY = window.pageYOffset + clientRect.top - reasonableBuffer;\n\n        if (maxY - window.pageYOffset > maxScrollDisplacement) {\n          maxY = window.pageYOffset + maxScrollDisplacement;\n        }\n\n        var targetY = window.pageYOffset - (window.innerHeight - elemBottom);\n\n        if (targetY > maxY) {\n          targetY = maxY;\n        }\n\n        window.scrollTo(0, targetY);\n      }\n    }\n  }, {\n    key: \"menuContainerIsBody\",\n    get: function get() {\n      return this.tribute.menuContainer === document.body || !this.tribute.menuContainer;\n    }\n  }]);\n\n  return TributeRange;\n}();\n\nvar _default = TributeRange;\nexports[\"default\"] = _default;\nmodule.exports = exports.default;\n\n},{}],5:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// Thanks to https://github.com/mattyork/fuzzy\nvar TributeSearch =\n/*#__PURE__*/\nfunction () {\n  function TributeSearch(tribute) {\n    _classCallCheck(this, TributeSearch);\n\n    this.tribute = tribute;\n    this.tribute.search = this;\n  }\n\n  _createClass(TributeSearch, [{\n    key: \"simpleFilter\",\n    value: function simpleFilter(pattern, array) {\n      var _this = this;\n\n      return array.filter(function (string) {\n        return _this.test(pattern, string);\n      });\n    }\n  }, {\n    key: \"test\",\n    value: function test(pattern, string) {\n      return this.match(pattern, string) !== null;\n    }\n  }, {\n    key: \"match\",\n    value: function match(pattern, string, opts) {\n      opts = opts || {};\n      var patternIdx = 0,\n          result = [],\n          len = string.length,\n          totalScore = 0,\n          currScore = 0,\n          pre = opts.pre || '',\n          post = opts.post || '',\n          compareString = opts.caseSensitive && string || string.toLowerCase(),\n          ch,\n          compareChar;\n\n      if (opts.skip) {\n        return {\n          rendered: string,\n          score: 0\n        };\n      }\n\n      pattern = opts.caseSensitive && pattern || pattern.toLowerCase();\n      var patternCache = this.traverse(compareString, pattern, 0, 0, []);\n\n      if (!patternCache) {\n        return null;\n      }\n\n      return {\n        rendered: this.render(string, patternCache.cache, pre, post),\n        score: patternCache.score\n      };\n    }\n  }, {\n    key: \"traverse\",\n    value: function traverse(string, pattern, stringIndex, patternIndex, patternCache) {\n      // if the pattern search at end\n      if (pattern.length === patternIndex) {\n        // calculate score and copy the cache containing the indices where it's found\n        return {\n          score: this.calculateScore(patternCache),\n          cache: patternCache.slice()\n        };\n      } // if string at end or remaining pattern > remaining string\n\n\n      if (string.length === stringIndex || pattern.length - patternIndex > string.length - stringIndex) {\n        return undefined;\n      }\n\n      var c = pattern[patternIndex];\n      var index = string.indexOf(c, stringIndex);\n      var best, temp;\n\n      while (index > -1) {\n        patternCache.push(index);\n        temp = this.traverse(string, pattern, index + 1, patternIndex + 1, patternCache);\n        patternCache.pop(); // if downstream traversal failed, return best answer so far\n\n        if (!temp) {\n          return best;\n        }\n\n        if (!best || best.score < temp.score) {\n          best = temp;\n        }\n\n        index = string.indexOf(c, index + 1);\n      }\n\n      return best;\n    }\n  }, {\n    key: \"calculateScore\",\n    value: function calculateScore(patternCache) {\n      var score = 0;\n      var temp = 1;\n      patternCache.forEach(function (index, i) {\n        if (i > 0) {\n          if (patternCache[i - 1] + 1 === index) {\n            temp += temp + 1;\n          } else {\n            temp = 1;\n          }\n        }\n\n        score += temp;\n      });\n      return score;\n    }\n  }, {\n    key: \"render\",\n    value: function render(string, indices, pre, post) {\n      var rendered = string.substring(0, indices[0]);\n      indices.forEach(function (index, i) {\n        rendered += pre + string[index] + post + string.substring(index + 1, indices[i + 1] ? indices[i + 1] : string.length);\n      });\n      return rendered;\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(pattern, arr, opts) {\n      var _this2 = this;\n\n      opts = opts || {};\n      return arr.reduce(function (prev, element, idx, arr) {\n        var str = element;\n\n        if (opts.extract) {\n          str = opts.extract(element);\n\n          if (!str) {\n            // take care of undefineds / nulls / etc.\n            str = '';\n          }\n        }\n\n        var rendered = _this2.match(pattern, str, opts);\n\n        if (rendered != null) {\n          prev[prev.length] = {\n            string: rendered.rendered,\n            score: rendered.score,\n            index: idx,\n            original: element\n          };\n        }\n\n        return prev;\n      }, []).sort(function (a, b) {\n        var compare = b.score - a.score;\n        if (compare) return compare;\n        return a.index - b.index;\n      });\n    }\n  }]);\n\n  return TributeSearch;\n}();\n\nvar _default = TributeSearch;\nexports[\"default\"] = _default;\nmodule.exports = exports.default;\n\n},{}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _Tribute = _interopRequireDefault(require(\"./Tribute\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n* Tribute.js\n* Native ES6 JavaScript @mention Plugin\n**/\nvar _default = _Tribute[\"default\"];\nexports[\"default\"] = _default;\nmodule.exports = exports.default;\n\n},{\"./Tribute\":1}],7:[function(require,module,exports){\n\"use strict\";\n\nif (!Array.prototype.find) {\n  Array.prototype.find = function (predicate) {\n    if (this === null) {\n      throw new TypeError('Array.prototype.find called on null or undefined');\n    }\n\n    if (typeof predicate !== 'function') {\n      throw new TypeError('predicate must be a function');\n    }\n\n    var list = Object(this);\n    var length = list.length >>> 0;\n    var thisArg = arguments[1];\n    var value;\n\n    for (var i = 0; i < length; i++) {\n      value = list[i];\n\n      if (predicate.call(thisArg, value, i, list)) {\n        return value;\n      }\n    }\n\n    return undefined;\n  };\n}\n\nif (window && typeof window.CustomEvent !== \"function\") {\n  var CustomEvent = function CustomEvent(event, params) {\n    params = params || {\n      bubbles: false,\n      cancelable: false,\n      detail: undefined\n    };\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  };\n\n  if (typeof window.Event !== 'undefined') {\n    CustomEvent.prototype = window.Event.prototype;\n  }\n\n  window.CustomEvent = CustomEvent;\n}\n\n},{}]},{},[6])(6)\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}