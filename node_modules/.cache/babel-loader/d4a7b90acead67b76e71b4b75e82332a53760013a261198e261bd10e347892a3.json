{"ast":null,"code":"import AutoComplete from \"src/decidim/autocomplete\";\n$(function () {\n  $(\"[data-decidim-geocoding]\").each(function (_i, el) {\n    var $input = $(el);\n    var autoComplete = new AutoComplete(el, {\n      mode: \"single\",\n      dataMatchKeys: [\"value\"],\n      dataSource: function dataSource(query, callback) {\n        $input.trigger(\"geocoder-suggest.decidim\", [query, callback]);\n      }\n    });\n    el.addEventListener(\"selection\", autoComplete);\n    $input.on(\"selection\", function (event) {\n      var selectedItem = event.detail.selection.value;\n      $input.trigger(\"geocoder-suggest-select.decidim\", [selectedItem]);\n\n      // Not all geocoding autocomplete APIs include the coordinates in the\n      // suggestions response. Therefore, some APIs may require additional\n      // query for the coordinates, which should trigger this event for the\n      // input element.\n      if (selectedItem.coordinates) {\n        $input.trigger(\"geocoder-suggest-coordinates.decidim\", [selectedItem.coordinates]);\n      }\n    });\n  });\n});","map":{"version":3,"names":["AutoComplete","$","each","_i","el","$input","autoComplete","mode","dataMatchKeys","dataSource","query","callback","trigger","addEventListener","on","event","selectedItem","detail","selection","value","coordinates"],"sources":["/home/nico/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/decidim-core-0.27.3/app/packs/src/decidim/geocoding.js"],"sourcesContent":["import AutoComplete from \"src/decidim/autocomplete\";\n\n$(() => {\n  $(\"[data-decidim-geocoding]\").each((_i, el) => {\n    const $input = $(el);\n\n    const autoComplete = new AutoComplete(el, {\n      mode: \"single\",\n      dataMatchKeys: [\"value\"],\n      dataSource: (query, callback) => {\n        $input.trigger(\"geocoder-suggest.decidim\", [query, callback]);\n      }\n    });\n    el.addEventListener(\"selection\", autoComplete);\n\n    $input.on(\"selection\", (event) => {\n      const selectedItem = event.detail.selection.value;\n      $input.trigger(\"geocoder-suggest-select.decidim\", [selectedItem]);\n\n      // Not all geocoding autocomplete APIs include the coordinates in the\n      // suggestions response. Therefore, some APIs may require additional\n      // query for the coordinates, which should trigger this event for the\n      // input element.\n      if (selectedItem.coordinates) {\n        $input.trigger(\"geocoder-suggest-coordinates.decidim\", [selectedItem.coordinates]);\n      }\n    });\n  });\n});\n"],"mappings":"AAAA,OAAOA,YAAY,MAAM,0BAA0B;AAEnDC,CAAC,CAAC,YAAM;EACNA,CAAC,CAAC,0BAA0B,CAAC,CAACC,IAAI,CAAC,UAACC,EAAE,EAAEC,EAAE,EAAK;IAC7C,IAAMC,MAAM,GAAGJ,CAAC,CAACG,EAAE,CAAC;IAEpB,IAAME,YAAY,GAAG,IAAIN,YAAY,CAACI,EAAE,EAAE;MACxCG,IAAI,EAAE,QAAQ;MACdC,aAAa,EAAE,CAAC,OAAO,CAAC;MACxBC,UAAU,EAAE,SAAAA,WAACC,KAAK,EAAEC,QAAQ,EAAK;QAC/BN,MAAM,CAACO,OAAO,CAAC,0BAA0B,EAAE,CAACF,KAAK,EAAEC,QAAQ,CAAC,CAAC;MAC/D;IACF,CAAC,CAAC;IACFP,EAAE,CAACS,gBAAgB,CAAC,WAAW,EAAEP,YAAY,CAAC;IAE9CD,MAAM,CAACS,EAAE,CAAC,WAAW,EAAE,UAACC,KAAK,EAAK;MAChC,IAAMC,YAAY,GAAGD,KAAK,CAACE,MAAM,CAACC,SAAS,CAACC,KAAK;MACjDd,MAAM,CAACO,OAAO,CAAC,iCAAiC,EAAE,CAACI,YAAY,CAAC,CAAC;;MAEjE;MACA;MACA;MACA;MACA,IAAIA,YAAY,CAACI,WAAW,EAAE;QAC5Bf,MAAM,CAACO,OAAO,CAAC,sCAAsC,EAAE,CAACI,YAAY,CAACI,WAAW,CAAC,CAAC;MACpF;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}