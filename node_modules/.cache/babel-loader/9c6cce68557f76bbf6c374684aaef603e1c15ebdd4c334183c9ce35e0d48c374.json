{"ast":null,"code":"import attachGeocoding from \"src/decidim/geocoding/attach_input\";\nimport createFieldDependentInputs from \"src/decidim/admin/field_dependent_inputs.component\";\n$(function () {\n  // Adds the latitude/longitude inputs after the geocoding is done\n  var $meetingAddress = $(\"#meeting_address\");\n  if ($meetingAddress.length > 0) {\n    attachGeocoding($meetingAddress);\n  }\n  var $form = $(\".meetings_form\");\n  if ($form.length > 0) {\n    var $meetingTypeOfMeeting = $form.find(\"#meeting_type_of_meeting\");\n    var $meetingOnlineFields = $form.find(\".field[data-meeting-type='online']\");\n    var $meetingInPersonFields = $form.find(\".field[data-meeting-type='in_person']\");\n    var $meetingOnlineAccessLevelFields = $form.find(\".field[data-meeting-type='online-access-level']\");\n    var toggleDependsOnSelect = function toggleDependsOnSelect($target, $showDiv, type) {\n      var value = $target.val();\n      if (value === \"hybrid\") {\n        $showDiv.show();\n      } else {\n        $showDiv.hide();\n        if (value === type) {\n          $showDiv.show();\n        }\n      }\n    };\n    $meetingTypeOfMeeting.on(\"change\", function (ev) {\n      var $target = $(ev.target);\n      var embedTypeValue = $(\"#meeting_iframe_embed_type\").val();\n      toggleDependsOnSelect($target, $meetingOnlineFields, \"online\");\n      toggleDependsOnSelect($target, $meetingInPersonFields, \"in_person\");\n      if (embedTypeValue === \"none\") {\n        $meetingOnlineAccessLevelFields.hide();\n      } else {\n        toggleDependsOnSelect($target, $meetingOnlineAccessLevelFields, \"online\");\n      }\n    });\n    toggleDependsOnSelect($meetingTypeOfMeeting, $meetingOnlineFields, \"online\");\n    toggleDependsOnSelect($meetingTypeOfMeeting, $meetingInPersonFields, \"in_person\");\n    var $meetingRegistrationType = $form.find(\"#meeting_registration_type\");\n    var $meetingRegistrationTerms = $form.find(\"#meeting_registration_terms\");\n    var $meetingRegistrationUrl = $form.find(\"#meeting_registration_url\");\n    var $meetingAvailableSlots = $form.find(\"#meeting_available_slots\");\n    $meetingRegistrationType.on(\"change\", function (ev) {\n      var $target = $(ev.target);\n      toggleDependsOnSelect($target, $meetingAvailableSlots, \"on_this_platform\");\n      toggleDependsOnSelect($target, $meetingRegistrationTerms, \"on_this_platform\");\n      toggleDependsOnSelect($target, $meetingRegistrationUrl, \"on_different_platform\");\n    });\n    toggleDependsOnSelect($meetingRegistrationType, $meetingAvailableSlots, \"on_this_platform\");\n    toggleDependsOnSelect($meetingRegistrationType, $meetingRegistrationTerms, \"on_this_platform\");\n    toggleDependsOnSelect($meetingRegistrationType, $meetingRegistrationUrl, \"on_different_platform\");\n    createFieldDependentInputs({\n      controllerField: $(\"#meeting_iframe_embed_type\"),\n      wrapperSelector: \".iframe-fields\",\n      dependentFieldsSelector: \".iframe-fields--access-level\",\n      dependentInputSelector: \"input\",\n      enablingCondition: function enablingCondition($field) {\n        return $field.val() !== \"none\";\n      }\n    });\n  }\n});","map":{"version":3,"names":["attachGeocoding","createFieldDependentInputs","$","$meetingAddress","length","$form","$meetingTypeOfMeeting","find","$meetingOnlineFields","$meetingInPersonFields","$meetingOnlineAccessLevelFields","toggleDependsOnSelect","$target","$showDiv","type","value","val","show","hide","on","ev","target","embedTypeValue","$meetingRegistrationType","$meetingRegistrationTerms","$meetingRegistrationUrl","$meetingAvailableSlots","controllerField","wrapperSelector","dependentFieldsSelector","dependentInputSelector","enablingCondition","$field"],"sources":["/home/nico/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/decidim-meetings-0.27.3/app/packs/src/decidim/meetings/meetings_form.js"],"sourcesContent":["import attachGeocoding from \"src/decidim/geocoding/attach_input\"\nimport createFieldDependentInputs from \"src/decidim/admin/field_dependent_inputs.component\"\n\n$(() => {\n  // Adds the latitude/longitude inputs after the geocoding is done\n  const $meetingAddress = $(\"#meeting_address\");\n  if ($meetingAddress.length > 0) {\n    attachGeocoding($meetingAddress);\n  }\n\n  const $form = $(\".meetings_form\");\n  if ($form.length > 0) {\n    const $meetingTypeOfMeeting = $form.find(\"#meeting_type_of_meeting\");\n    const $meetingOnlineFields = $form.find(\".field[data-meeting-type='online']\");\n    const $meetingInPersonFields = $form.find(\".field[data-meeting-type='in_person']\");\n    const $meetingOnlineAccessLevelFields = $form.find(\".field[data-meeting-type='online-access-level']\");\n\n    const toggleDependsOnSelect = ($target, $showDiv, type) => {\n      const value = $target.val();\n      if (value === \"hybrid\") {\n        $showDiv.show();\n      } else {\n        $showDiv.hide();\n        if (value === type) {\n          $showDiv.show();\n        }\n      }\n    };\n\n    $meetingTypeOfMeeting.on(\"change\", (ev) => {\n      const $target = $(ev.target);\n      const embedTypeValue = $(\"#meeting_iframe_embed_type\").val();\n\n      toggleDependsOnSelect($target, $meetingOnlineFields, \"online\");\n      toggleDependsOnSelect($target, $meetingInPersonFields, \"in_person\");\n      if (embedTypeValue === \"none\") {\n        $meetingOnlineAccessLevelFields.hide();\n      } else {\n        toggleDependsOnSelect($target, $meetingOnlineAccessLevelFields, \"online\");\n      }\n    });\n\n    toggleDependsOnSelect($meetingTypeOfMeeting, $meetingOnlineFields, \"online\");\n    toggleDependsOnSelect($meetingTypeOfMeeting, $meetingInPersonFields, \"in_person\");\n\n\n    const $meetingRegistrationType = $form.find(\"#meeting_registration_type\");\n    const $meetingRegistrationTerms = $form.find(\"#meeting_registration_terms\");\n    const $meetingRegistrationUrl = $form.find(\"#meeting_registration_url\");\n    const $meetingAvailableSlots = $form.find(\"#meeting_available_slots\");\n\n    $meetingRegistrationType.on(\"change\", (ev) => {\n      const $target = $(ev.target);\n      toggleDependsOnSelect($target, $meetingAvailableSlots, \"on_this_platform\");\n      toggleDependsOnSelect($target, $meetingRegistrationTerms, \"on_this_platform\");\n      toggleDependsOnSelect($target, $meetingRegistrationUrl, \"on_different_platform\");\n    });\n\n    toggleDependsOnSelect($meetingRegistrationType, $meetingAvailableSlots, \"on_this_platform\");\n    toggleDependsOnSelect($meetingRegistrationType, $meetingRegistrationTerms, \"on_this_platform\");\n    toggleDependsOnSelect($meetingRegistrationType, $meetingRegistrationUrl, \"on_different_platform\");\n\n    createFieldDependentInputs({\n      controllerField: $(\"#meeting_iframe_embed_type\"),\n      wrapperSelector: \".iframe-fields\",\n      dependentFieldsSelector: \".iframe-fields--access-level\",\n      dependentInputSelector: \"input\",\n      enablingCondition: ($field) => {\n        return $field.val() !== \"none\"\n      }\n    });\n  }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}