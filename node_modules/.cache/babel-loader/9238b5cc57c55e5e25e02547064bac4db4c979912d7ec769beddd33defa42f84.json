{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n$(function () {\n  var $content = $(\".picker-content\"),\n    pickerMore = $content.data(\"picker-more\"),\n    pickerPath = $content.data(\"picker-path\"),\n    toggleNoProposals = function toggleNoProposals() {\n      var showNoProposals = $(\"#proposals_list li:visible\").length === 0;\n      $(\"#no_proposals\").toggle(showNoProposals);\n    };\n  var jqxhr = null;\n  var filterBuffer = \"\";\n  toggleNoProposals();\n  $(\".data_picker-modal-content\").on(\"change keyup\", \"#proposals_filter\", function (event) {\n    var filter = event.target.value.toLowerCase();\n    if (pickerMore) {\n      if (filter.length < 3) {\n        return;\n      }\n      if (filter === filterBuffer) {\n        return;\n      }\n      if (jqxhr !== null) {\n        jqxhr.abort();\n      }\n      $content.html(\"<div class='loading-spinner'></div>\");\n      jqxhr = $.get(\"\".concat(pickerPath, \"?q=\").concat(filter), function (data) {\n        filterBuffer = filter;\n        $content.html(data);\n        jqxhr = null;\n        toggleNoProposals();\n        if (_typeof(window.theDataPicker) === \"object\" && window.theDataPicker.current !== null) {\n          window.theDataPicker._handleCheckboxes($content);\n          window.theDataPicker._handleLinks($content);\n        }\n      });\n    } else {\n      $(\"#proposals_list li\").each(function (index, li) {\n        $(li).toggle(li.textContent.toLowerCase().indexOf(filter) > -1);\n      });\n      toggleNoProposals();\n    }\n  });\n});","map":{"version":3,"names":["$","$content","pickerMore","data","pickerPath","toggleNoProposals","showNoProposals","length","toggle","jqxhr","filterBuffer","on","event","filter","target","value","toLowerCase","abort","html","get","concat","_typeof","window","theDataPicker","current","_handleCheckboxes","_handleLinks","each","index","li","textContent","indexOf"],"sources":["/home/nico/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/decidim-proposals-0.27.3/app/packs/src/decidim/proposals/admin/proposals_picker.js"],"sourcesContent":["$(() => {\n  const $content = $(\".picker-content\"),\n      pickerMore = $content.data(\"picker-more\"),\n      pickerPath = $content.data(\"picker-path\"),\n      toggleNoProposals = () => {\n        const showNoProposals = $(\"#proposals_list li:visible\").length === 0\n        $(\"#no_proposals\").toggle(showNoProposals)\n      }\n\n  let jqxhr = null\n  let filterBuffer = \"\"\n\n  toggleNoProposals()\n\n  $(\".data_picker-modal-content\").on(\"change keyup\", \"#proposals_filter\", (event) => {\n    const filter = event.target.value.toLowerCase()\n\n    if (pickerMore) {\n      if (filter.length < 3) {\n        return\n      }\n\n      if (filter === filterBuffer) {\n        return\n      }\n\n      if (jqxhr !== null) {\n        jqxhr.abort()\n      }\n\n      $content.html(\"<div class='loading-spinner'></div>\")\n      jqxhr = $.get(`${pickerPath}?q=${filter}`, (data) => {\n        filterBuffer = filter\n        $content.html(data)\n        jqxhr = null\n        toggleNoProposals()\n\n        if (typeof window.theDataPicker === \"object\" && window.theDataPicker.current !== null) {\n          window.theDataPicker._handleCheckboxes($content);\n          window.theDataPicker._handleLinks($content);\n        }\n      })\n    } else {\n      $(\"#proposals_list li\").each((index, li) => {\n        $(li).toggle(li.textContent.toLowerCase().indexOf(filter) > -1)\n      })\n      toggleNoProposals()\n    }\n  })\n})\n"],"mappings":";;;;;;;;;AAAAA,CAAC,CAAC,YAAM;EACN,IAAMC,QAAQ,GAAGD,CAAC,CAAC,iBAAiB,CAAC;IACjCE,UAAU,GAAGD,QAAQ,CAACE,IAAI,CAAC,aAAa,CAAC;IACzCC,UAAU,GAAGH,QAAQ,CAACE,IAAI,CAAC,aAAa,CAAC;IACzCE,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAA,EAAS;MACxB,IAAMC,eAAe,GAAGN,CAAC,CAAC,4BAA4B,CAAC,CAACO,MAAM,KAAK,CAAC;MACpEP,CAAC,CAAC,eAAe,CAAC,CAACQ,MAAM,CAACF,eAAe,CAAC;IAC5C,CAAC;EAEL,IAAIG,KAAK,GAAG,IAAI;EAChB,IAAIC,YAAY,GAAG,EAAE;EAErBL,iBAAiB,CAAC,CAAC;EAEnBL,CAAC,CAAC,4BAA4B,CAAC,CAACW,EAAE,CAAC,cAAc,EAAE,mBAAmB,EAAE,UAACC,KAAK,EAAK;IACjF,IAAMC,MAAM,GAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAACC,WAAW,CAAC,CAAC;IAE/C,IAAId,UAAU,EAAE;MACd,IAAIW,MAAM,CAACN,MAAM,GAAG,CAAC,EAAE;QACrB;MACF;MAEA,IAAIM,MAAM,KAAKH,YAAY,EAAE;QAC3B;MACF;MAEA,IAAID,KAAK,KAAK,IAAI,EAAE;QAClBA,KAAK,CAACQ,KAAK,CAAC,CAAC;MACf;MAEAhB,QAAQ,CAACiB,IAAI,CAAC,qCAAqC,CAAC;MACpDT,KAAK,GAAGT,CAAC,CAACmB,GAAG,IAAAC,MAAA,CAAIhB,UAAU,SAAAgB,MAAA,CAAMP,MAAM,GAAI,UAACV,IAAI,EAAK;QACnDO,YAAY,GAAGG,MAAM;QACrBZ,QAAQ,CAACiB,IAAI,CAACf,IAAI,CAAC;QACnBM,KAAK,GAAG,IAAI;QACZJ,iBAAiB,CAAC,CAAC;QAEnB,IAAIgB,OAAA,CAAOC,MAAM,CAACC,aAAa,MAAK,QAAQ,IAAID,MAAM,CAACC,aAAa,CAACC,OAAO,KAAK,IAAI,EAAE;UACrFF,MAAM,CAACC,aAAa,CAACE,iBAAiB,CAACxB,QAAQ,CAAC;UAChDqB,MAAM,CAACC,aAAa,CAACG,YAAY,CAACzB,QAAQ,CAAC;QAC7C;MACF,CAAC,CAAC;IACJ,CAAC,MAAM;MACLD,CAAC,CAAC,oBAAoB,CAAC,CAAC2B,IAAI,CAAC,UAACC,KAAK,EAAEC,EAAE,EAAK;QAC1C7B,CAAC,CAAC6B,EAAE,CAAC,CAACrB,MAAM,CAACqB,EAAE,CAACC,WAAW,CAACd,WAAW,CAAC,CAAC,CAACe,OAAO,CAAClB,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;MACjE,CAAC,CAAC;MACFR,iBAAiB,CAAC,CAAC;IACrB;EACF,CAAC,CAAC;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}