{"ast":null,"code":"import \"src/decidim/admin/scope_picker_enabler.component\";\nimport \"src/decidim/admin/proposal_infinite_edit\";\nimport BudgetRuleTogglerComponent from \"src/decidim/admin/budget_rule_toggler.component\";\n\n// Checks if the form contains fields with special CSS classes added in\n// Decidim::Admin::SettingsHelper and acts accordingly.\n$(function () {\n  var budgetRuleToggler = new BudgetRuleTogglerComponent({\n    ruleCheckboxes: $(\"input[id^='component_settings_vote_rule_']\")\n  });\n  budgetRuleToggler.run();\n\n  // Prevents readonly containers from being modified.\n  var $readonlyContainer = $(\".readonly_container input\");\n  $readonlyContainer.click(function (event) {\n    event.preventDefault();\n    return false;\n  });\n\n  // Target fields:\n  // - amendments_wizard_help_text\n  // - amendments_visibility\n  // - amendment_creation_enabled\n  // - amendment_reaction_enabled\n  // - amendment_promotion_enabled\n\n  // (1) Hides target fields if amendments_enabled component setting is NOT checked.\n  // (2) Toggles visibilty of target fields when amendments_enabled component setting is clicked.\n  var $amendmentsEnabled = $(\"input#component_settings_amendments_enabled\");\n  if ($amendmentsEnabled.length > 0) {\n    var $amendmentStepSettings = $(\".amendments_wizard_help_text_container, .amendments_visibility_container, .amendment_creation_enabled_container, .amendment_reaction_enabled_container, .amendment_promotion_enabled_container\");\n    if ($amendmentsEnabled.is(\":not(:checked)\")) {\n      $amendmentStepSettings.hide();\n    }\n    $amendmentsEnabled.click(function () {\n      $amendmentStepSettings.toggle();\n    });\n  }\n});","map":{"version":3,"names":["BudgetRuleTogglerComponent","$","budgetRuleToggler","ruleCheckboxes","run","$readonlyContainer","click","event","preventDefault","$amendmentsEnabled","length","$amendmentStepSettings","is","hide","toggle"],"sources":["/home/nico/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.3/app/packs/src/decidim/admin/form.js"],"sourcesContent":["import \"src/decidim/admin/scope_picker_enabler.component\"\nimport \"src/decidim/admin/proposal_infinite_edit\"\n\nimport BudgetRuleTogglerComponent from \"src/decidim/admin/budget_rule_toggler.component\"\n\n// Checks if the form contains fields with special CSS classes added in\n// Decidim::Admin::SettingsHelper and acts accordingly.\n$(() => {\n  const budgetRuleToggler = new BudgetRuleTogglerComponent({\n    ruleCheckboxes: $(\"input[id^='component_settings_vote_rule_']\")\n  });\n\n  budgetRuleToggler.run();\n\n  // Prevents readonly containers from being modified.\n  const $readonlyContainer = $(\".readonly_container input\");\n\n  $readonlyContainer.click((event) => {\n    event.preventDefault();\n    return false;\n  });\n\n  // Target fields:\n  // - amendments_wizard_help_text\n  // - amendments_visibility\n  // - amendment_creation_enabled\n  // - amendment_reaction_enabled\n  // - amendment_promotion_enabled\n\n  // (1) Hides target fields if amendments_enabled component setting is NOT checked.\n  // (2) Toggles visibilty of target fields when amendments_enabled component setting is clicked.\n  const $amendmentsEnabled = $(\"input#component_settings_amendments_enabled\");\n\n  if ($amendmentsEnabled.length > 0) {\n    const $amendmentStepSettings = $(\".amendments_wizard_help_text_container, .amendments_visibility_container, .amendment_creation_enabled_container, .amendment_reaction_enabled_container, .amendment_promotion_enabled_container\");\n\n    if ($amendmentsEnabled.is(\":not(:checked)\")) {\n      $amendmentStepSettings.hide();\n    }\n\n    $amendmentsEnabled.click(() => {\n      $amendmentStepSettings.toggle();\n    });\n  }\n});\n"],"mappings":"AAAA,OAAO,kDAAkD;AACzD,OAAO,0CAA0C;AAEjD,OAAOA,0BAA0B,MAAM,iDAAiD;;AAExF;AACA;AACAC,CAAC,CAAC,YAAM;EACN,IAAMC,iBAAiB,GAAG,IAAIF,0BAA0B,CAAC;IACvDG,cAAc,EAAEF,CAAC,CAAC,4CAA4C;EAChE,CAAC,CAAC;EAEFC,iBAAiB,CAACE,GAAG,CAAC,CAAC;;EAEvB;EACA,IAAMC,kBAAkB,GAAGJ,CAAC,CAAC,2BAA2B,CAAC;EAEzDI,kBAAkB,CAACC,KAAK,CAAC,UAACC,KAAK,EAAK;IAClCA,KAAK,CAACC,cAAc,CAAC,CAAC;IACtB,OAAO,KAAK;EACd,CAAC,CAAC;;EAEF;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA,IAAMC,kBAAkB,GAAGR,CAAC,CAAC,6CAA6C,CAAC;EAE3E,IAAIQ,kBAAkB,CAACC,MAAM,GAAG,CAAC,EAAE;IACjC,IAAMC,sBAAsB,GAAGV,CAAC,CAAC,gMAAgM,CAAC;IAElO,IAAIQ,kBAAkB,CAACG,EAAE,CAAC,gBAAgB,CAAC,EAAE;MAC3CD,sBAAsB,CAACE,IAAI,CAAC,CAAC;IAC/B;IAEAJ,kBAAkB,CAACH,KAAK,CAAC,YAAM;MAC7BK,sBAAsB,CAACG,MAAM,CAAC,CAAC;IACjC,CAAC,CAAC;EACJ;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}