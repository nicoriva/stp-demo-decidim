{"ast":null,"code":"$(function () {\n  var $userRegistrationForm = $(\"#register-form\");\n  var $userGroupFields = $userRegistrationForm.find(\".user-group-fields\");\n  var inputSelector = 'input[name=\"user[sign_up_as]\"]';\n  var newsletterSelector = 'input[type=\"checkbox\"][name=\"user[newsletter]\"]';\n  var $newsletterModal = $(\"#sign-up-newsletter-modal\");\n  var setGroupFieldsVisibility = function setGroupFieldsVisibility(value) {\n    if (value === \"user\") {\n      $userGroupFields.hide();\n    } else {\n      $userGroupFields.show();\n    }\n  };\n  var checkNewsletter = function checkNewsletter(check) {\n    $userRegistrationForm.find(newsletterSelector).prop(\"checked\", check);\n    $newsletterModal.data(\"continue\", true);\n    $newsletterModal.foundation(\"close\");\n    $userRegistrationForm.submit();\n  };\n  setGroupFieldsVisibility($userRegistrationForm.find(\"\".concat(inputSelector, \":checked\")).val());\n  $userRegistrationForm.on(\"change\", inputSelector, function (event) {\n    var value = event.target.value;\n    setGroupFieldsVisibility(value);\n  });\n  $userRegistrationForm.on(\"submit\", function (event) {\n    var newsletterChecked = $userRegistrationForm.find(newsletterSelector);\n    if (!$newsletterModal.data(\"continue\")) {\n      if (!newsletterChecked.prop(\"checked\")) {\n        event.preventDefault();\n        $newsletterModal.foundation(\"open\");\n      }\n    }\n  });\n  $newsletterModal.find(\".check-newsletter\").on(\"click\", function (event) {\n    checkNewsletter($(event.target).data(\"check\"));\n  });\n});","map":{"version":3,"names":["$","$userRegistrationForm","$userGroupFields","find","inputSelector","newsletterSelector","$newsletterModal","setGroupFieldsVisibility","value","hide","show","checkNewsletter","check","prop","data","foundation","submit","concat","val","on","event","target","newsletterChecked","preventDefault"],"sources":["/home/nico/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/decidim-core-0.27.3/app/packs/src/decidim/user_registrations.js"],"sourcesContent":["$(() => {\n  const $userRegistrationForm = $(\"#register-form\");\n  const $userGroupFields      = $userRegistrationForm.find(\".user-group-fields\");\n  const inputSelector         = 'input[name=\"user[sign_up_as]\"]';\n  const newsletterSelector    = 'input[type=\"checkbox\"][name=\"user[newsletter]\"]';\n  const $newsletterModal      = $(\"#sign-up-newsletter-modal\");\n\n\n  const setGroupFieldsVisibility = (value) => {\n    if (value === \"user\") {\n      $userGroupFields.hide();\n    } else {\n      $userGroupFields.show();\n    }\n  }\n\n  const checkNewsletter = (check) => {\n    $userRegistrationForm.find(newsletterSelector).prop(\"checked\", check);\n    $newsletterModal.data(\"continue\", true);\n    $newsletterModal.foundation(\"close\");\n    $userRegistrationForm.submit();\n  }\n\n  setGroupFieldsVisibility($userRegistrationForm.find(`${inputSelector}:checked`).val());\n\n  $userRegistrationForm.on(\"change\", inputSelector, (event) => {\n    const value = event.target.value;\n\n    setGroupFieldsVisibility(value);\n  });\n\n  $userRegistrationForm.on(\"submit\", (event) => {\n    const newsletterChecked = $userRegistrationForm.find(newsletterSelector);\n    if (!$newsletterModal.data(\"continue\")) {\n      if (!newsletterChecked.prop(\"checked\")) {\n        event.preventDefault();\n        $newsletterModal.foundation(\"open\");\n      }\n    }\n  });\n\n  $newsletterModal.find(\".check-newsletter\").on(\"click\", (event) => {\n    checkNewsletter($(event.target).data(\"check\"));\n  });\n});\n"],"mappings":"AAAAA,CAAC,CAAC,YAAM;EACN,IAAMC,qBAAqB,GAAGD,CAAC,CAAC,gBAAgB,CAAC;EACjD,IAAME,gBAAgB,GAAQD,qBAAqB,CAACE,IAAI,CAAC,oBAAoB,CAAC;EAC9E,IAAMC,aAAa,GAAW,gCAAgC;EAC9D,IAAMC,kBAAkB,GAAM,iDAAiD;EAC/E,IAAMC,gBAAgB,GAAQN,CAAC,CAAC,2BAA2B,CAAC;EAG5D,IAAMO,wBAAwB,GAAG,SAA3BA,wBAAwBA,CAAIC,KAAK,EAAK;IAC1C,IAAIA,KAAK,KAAK,MAAM,EAAE;MACpBN,gBAAgB,CAACO,IAAI,CAAC,CAAC;IACzB,CAAC,MAAM;MACLP,gBAAgB,CAACQ,IAAI,CAAC,CAAC;IACzB;EACF,CAAC;EAED,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAIC,KAAK,EAAK;IACjCX,qBAAqB,CAACE,IAAI,CAACE,kBAAkB,CAAC,CAACQ,IAAI,CAAC,SAAS,EAAED,KAAK,CAAC;IACrEN,gBAAgB,CAACQ,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC;IACvCR,gBAAgB,CAACS,UAAU,CAAC,OAAO,CAAC;IACpCd,qBAAqB,CAACe,MAAM,CAAC,CAAC;EAChC,CAAC;EAEDT,wBAAwB,CAACN,qBAAqB,CAACE,IAAI,IAAAc,MAAA,CAAIb,aAAa,aAAU,CAAC,CAACc,GAAG,CAAC,CAAC,CAAC;EAEtFjB,qBAAqB,CAACkB,EAAE,CAAC,QAAQ,EAAEf,aAAa,EAAE,UAACgB,KAAK,EAAK;IAC3D,IAAMZ,KAAK,GAAGY,KAAK,CAACC,MAAM,CAACb,KAAK;IAEhCD,wBAAwB,CAACC,KAAK,CAAC;EACjC,CAAC,CAAC;EAEFP,qBAAqB,CAACkB,EAAE,CAAC,QAAQ,EAAE,UAACC,KAAK,EAAK;IAC5C,IAAME,iBAAiB,GAAGrB,qBAAqB,CAACE,IAAI,CAACE,kBAAkB,CAAC;IACxE,IAAI,CAACC,gBAAgB,CAACQ,IAAI,CAAC,UAAU,CAAC,EAAE;MACtC,IAAI,CAACQ,iBAAiB,CAACT,IAAI,CAAC,SAAS,CAAC,EAAE;QACtCO,KAAK,CAACG,cAAc,CAAC,CAAC;QACtBjB,gBAAgB,CAACS,UAAU,CAAC,MAAM,CAAC;MACrC;IACF;EACF,CAAC,CAAC;EAEFT,gBAAgB,CAACH,IAAI,CAAC,mBAAmB,CAAC,CAACgB,EAAE,CAAC,OAAO,EAAE,UAACC,KAAK,EAAK;IAChET,eAAe,CAACX,CAAC,CAACoB,KAAK,CAACC,MAAM,CAAC,CAACP,IAAI,CAAC,OAAO,CAAC,CAAC;EAChD,CAAC,CAAC;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}