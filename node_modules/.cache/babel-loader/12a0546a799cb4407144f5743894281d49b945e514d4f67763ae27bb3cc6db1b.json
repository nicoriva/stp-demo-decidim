{"ast":null,"code":"import { pushState, registerCallback } from \"src/decidim/history\";\nvar initializeListingOptionsMenu = function initializeListingOptionsMenu(options) {\n  $(document).on(\"click\", \"\".concat(options.containerSelector, \" a\"), function (event) {\n    var $target = $(event.target);\n    $target.parents(\".menu\").find(\"a:first\").text($target.text());\n    pushState($target.attr(\"href\"));\n  });\n  registerCallback(options.callbackName, function () {\n    var url = window.location.toString();\n    var match = url.match(/${options.urlParameter}=([^&]*)/);\n    var $targetMenu = $(\"\".concat(options.containerSelector, \" .menu\"));\n    var value = $targetMenu.find(\".menu a:first\").data(options.dataAttribute);\n    if (match) {\n      value = match[1];\n    }\n    var linkText = $targetMenu.find(\".menu a[data-\".concat(options.dataAttribute, \"=\\\"\").concat(value, \"\\\"]\")).text();\n    $targetMenu.find(\"a:first\").text(linkText);\n  });\n};\n$(function () {\n  initializeListingOptionsMenu({\n    containerSelector: \".order-by\",\n    callbackName: \"orders\",\n    urlParameter: \"order\",\n    dataAttribute: \"order\"\n  });\n  initializeListingOptionsMenu({\n    containerSelector: \".results-per-page\",\n    callbackName: \"results_per_page\",\n    urlParameter: \"per_page\",\n    dataAttribute: \"per-page-option\"\n  });\n});","map":{"version":3,"names":["pushState","registerCallback","initializeListingOptionsMenu","options","$","document","on","concat","containerSelector","event","$target","target","parents","find","text","attr","callbackName","url","window","location","toString","match","$targetMenu","value","data","dataAttribute","linkText","urlParameter"],"sources":["/home/nico/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/decidim-core-0.27.3/app/packs/src/decidim/results_listing.js"],"sourcesContent":["import { pushState, registerCallback } from \"src/decidim/history\"\n\nconst initializeListingOptionsMenu = (options) => {\n  $(document).on(\"click\", `${options.containerSelector} a`, (event) => {\n    const $target = $(event.target);\n\n    $target.parents(\".menu\").find(\"a:first\").text($target.text());\n\n    pushState($target.attr(\"href\"));\n  })\n\n  registerCallback(options.callbackName, () => {\n    const url = window.location.toString();\n    const match = url.match(/${options.urlParameter}=([^&]*)/);\n    const $targetMenu = $(`${options.containerSelector} .menu`);\n    let value = $targetMenu.find(\".menu a:first\").data(options.dataAttribute);\n\n    if (match) {\n      value = match[1];\n    }\n\n    const linkText = $targetMenu.find(`.menu a[data-${options.dataAttribute}=\"${value}\"]`).text();\n\n    $targetMenu.find(\"a:first\").text(linkText);\n  });\n};\n\n$(() => {\n  initializeListingOptionsMenu({\n    containerSelector: \".order-by\",\n    callbackName: \"orders\",\n    urlParameter: \"order\",\n    dataAttribute: \"order\"\n  });\n  initializeListingOptionsMenu({\n    containerSelector: \".results-per-page\",\n    callbackName: \"results_per_page\",\n    urlParameter: \"per_page\",\n    dataAttribute: \"per-page-option\"\n  });\n});\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,gBAAgB,QAAQ,qBAAqB;AAEjE,IAAMC,4BAA4B,GAAG,SAA/BA,4BAA4BA,CAAIC,OAAO,EAAK;EAChDC,CAAC,CAACC,QAAQ,CAAC,CAACC,EAAE,CAAC,OAAO,KAAAC,MAAA,CAAKJ,OAAO,CAACK,iBAAiB,SAAM,UAACC,KAAK,EAAK;IACnE,IAAMC,OAAO,GAAGN,CAAC,CAACK,KAAK,CAACE,MAAM,CAAC;IAE/BD,OAAO,CAACE,OAAO,CAAC,OAAO,CAAC,CAACC,IAAI,CAAC,SAAS,CAAC,CAACC,IAAI,CAACJ,OAAO,CAACI,IAAI,CAAC,CAAC,CAAC;IAE7Dd,SAAS,CAACU,OAAO,CAACK,IAAI,CAAC,MAAM,CAAC,CAAC;EACjC,CAAC,CAAC;EAEFd,gBAAgB,CAACE,OAAO,CAACa,YAAY,EAAE,YAAM;IAC3C,IAAMC,GAAG,GAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAAC,CAAC;IACtC,IAAMC,KAAK,GAAGJ,GAAG,CAACI,KAAK,CAAC,iCAAiC,CAAC;IAC1D,IAAMC,WAAW,GAAGlB,CAAC,IAAAG,MAAA,CAAIJ,OAAO,CAACK,iBAAiB,WAAQ,CAAC;IAC3D,IAAIe,KAAK,GAAGD,WAAW,CAACT,IAAI,CAAC,eAAe,CAAC,CAACW,IAAI,CAACrB,OAAO,CAACsB,aAAa,CAAC;IAEzE,IAAIJ,KAAK,EAAE;MACTE,KAAK,GAAGF,KAAK,CAAC,CAAC,CAAC;IAClB;IAEA,IAAMK,QAAQ,GAAGJ,WAAW,CAACT,IAAI,iBAAAN,MAAA,CAAiBJ,OAAO,CAACsB,aAAa,SAAAlB,MAAA,CAAKgB,KAAK,QAAI,CAAC,CAACT,IAAI,CAAC,CAAC;IAE7FQ,WAAW,CAACT,IAAI,CAAC,SAAS,CAAC,CAACC,IAAI,CAACY,QAAQ,CAAC;EAC5C,CAAC,CAAC;AACJ,CAAC;AAEDtB,CAAC,CAAC,YAAM;EACNF,4BAA4B,CAAC;IAC3BM,iBAAiB,EAAE,WAAW;IAC9BQ,YAAY,EAAE,QAAQ;IACtBW,YAAY,EAAE,OAAO;IACrBF,aAAa,EAAE;EACjB,CAAC,CAAC;EACFvB,4BAA4B,CAAC;IAC3BM,iBAAiB,EAAE,mBAAmB;IACtCQ,YAAY,EAAE,kBAAkB;IAChCW,YAAY,EAAE,UAAU;IACxBF,aAAa,EAAE;EACjB,CAAC,CAAC;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}