{"ast":null,"code":"import Rails from \"@rails/ujs\";\n\n// Make the remote form submit buttons disabled when the form is being\n// submitted to avoid multiple submits.\ndocument.addEventListener(\"ajax:beforeSend\", function (ev) {\n  if (!ev.target.matches(\"form[data-remote]\")) {\n    return;\n  }\n  ev.target.querySelectorAll(\"[type=submit]\").forEach(function (submit) {\n    submit.disabled = true;\n  });\n});\ndocument.addEventListener(\"ajax:complete\", function (ev) {\n  if (!ev.target.matches(\"form[data-remote]\")) {\n    return;\n  }\n  ev.target.querySelectorAll(\"[type=submit]\").forEach(function (submit) {\n    submit.disabled = false;\n  });\n});\n\n// The forms that are attached to Foundation Abide do not work properly with\n// Rails UJS Ajax forms that have the `data-remote` attribute attached to\n// them. The reason is that in case Foundation Abide sees the form as valid,\n// it will submit it normally bypassing the Rails UJS functionality.\n// The submit events happens through jQuery in Foundation Abide which is why\n// we need to bind the event with jQuery.\n$(document).on(\"submit\", \"form[data-remote][data-abide]\", function (ev) {\n  ev.preventDefault();\n  if (ev.target.querySelectorAll(\"[data-invalid]\").length > 0) {\n    return;\n  }\n  Reflect.apply(Rails.handleRemote, ev.target, [ev]);\n});","map":{"version":3,"names":["Rails","document","addEventListener","ev","target","matches","querySelectorAll","forEach","submit","disabled","$","on","preventDefault","length","Reflect","apply","handleRemote"],"sources":["/home/nico/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/decidim-core-0.27.3/app/packs/src/decidim/form_remote.js"],"sourcesContent":["import Rails from \"@rails/ujs\";\n\n// Make the remote form submit buttons disabled when the form is being\n// submitted to avoid multiple submits.\ndocument.addEventListener(\"ajax:beforeSend\", (ev) => {\n  if (!ev.target.matches(\"form[data-remote]\")) {\n    return;\n  }\n\n  ev.target.querySelectorAll(\"[type=submit]\").forEach((submit) => {\n    submit.disabled = true;\n  });\n});\ndocument.addEventListener(\"ajax:complete\", (ev) => {\n  if (!ev.target.matches(\"form[data-remote]\")) {\n    return;\n  }\n\n  ev.target.querySelectorAll(\"[type=submit]\").forEach((submit) => {\n    submit.disabled = false;\n  });\n});\n\n// The forms that are attached to Foundation Abide do not work properly with\n// Rails UJS Ajax forms that have the `data-remote` attribute attached to\n// them. The reason is that in case Foundation Abide sees the form as valid,\n// it will submit it normally bypassing the Rails UJS functionality.\n// The submit events happens through jQuery in Foundation Abide which is why\n// we need to bind the event with jQuery.\n$(document).on(\"submit\", \"form[data-remote][data-abide]\", (ev) => {\n  ev.preventDefault();\n\n  if (ev.target.querySelectorAll(\"[data-invalid]\").length > 0) {\n    return;\n  }\n\n  Reflect.apply(Rails.handleRemote, ev.target, [ev]);\n});\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,YAAY;;AAE9B;AACA;AACAC,QAAQ,CAACC,gBAAgB,CAAC,iBAAiB,EAAE,UAACC,EAAE,EAAK;EACnD,IAAI,CAACA,EAAE,CAACC,MAAM,CAACC,OAAO,CAAC,mBAAmB,CAAC,EAAE;IAC3C;EACF;EAEAF,EAAE,CAACC,MAAM,CAACE,gBAAgB,CAAC,eAAe,CAAC,CAACC,OAAO,CAAC,UAACC,MAAM,EAAK;IAC9DA,MAAM,CAACC,QAAQ,GAAG,IAAI;EACxB,CAAC,CAAC;AACJ,CAAC,CAAC;AACFR,QAAQ,CAACC,gBAAgB,CAAC,eAAe,EAAE,UAACC,EAAE,EAAK;EACjD,IAAI,CAACA,EAAE,CAACC,MAAM,CAACC,OAAO,CAAC,mBAAmB,CAAC,EAAE;IAC3C;EACF;EAEAF,EAAE,CAACC,MAAM,CAACE,gBAAgB,CAAC,eAAe,CAAC,CAACC,OAAO,CAAC,UAACC,MAAM,EAAK;IAC9DA,MAAM,CAACC,QAAQ,GAAG,KAAK;EACzB,CAAC,CAAC;AACJ,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACAC,CAAC,CAACT,QAAQ,CAAC,CAACU,EAAE,CAAC,QAAQ,EAAE,+BAA+B,EAAE,UAACR,EAAE,EAAK;EAChEA,EAAE,CAACS,cAAc,CAAC,CAAC;EAEnB,IAAIT,EAAE,CAACC,MAAM,CAACE,gBAAgB,CAAC,gBAAgB,CAAC,CAACO,MAAM,GAAG,CAAC,EAAE;IAC3D;EACF;EAEAC,OAAO,CAACC,KAAK,CAACf,KAAK,CAACgB,YAAY,EAAEb,EAAE,CAACC,MAAM,EAAE,CAACD,EAAE,CAAC,CAAC;AACpD,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}